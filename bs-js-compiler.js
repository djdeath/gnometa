// This file was generated using Gnometa
// https://github.com/djdeath/gnometa

let BSJSParser=objectThatDelegatesTo(BaseStrParser,{
"enum":function(){var $elf=this,$vars={},$r0=this._createStructure("enum");$vars.r=this._appendStructure($r0,this.anything());$vars.d=this._appendStructure($r0,this.anything());$vars.v=this._appendStructure($r0,this._applyWithArgs("listOf",$vars.r,$vars.d));this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("token",","));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("empty"));return $r1;}));$r0.value=$vars.v;return $r0;},
"space":function(){var $elf=this,$vars={},$r0=this._createStructure("space");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,BaseStrParser._superApplyWithArgs(this,'space'));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("fromTo","//","\n"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("fromTo","/*","*/"));return $r1;}));return $r0;},
"nameFirst":function(){var $elf=this,$vars={},$r0=this._createStructure("nameFirst");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("letter"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "$":$r2.value="$";break;case "_":$r2.value="_";break;default: throw fail}return $r2;}).call(this));return $r1;}));return $r0;},
"nameRest":function(){var $elf=this,$vars={},$r0=this._createStructure("nameRest");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("nameFirst"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("digit"));return $r1;}));return $r0;},
"iName":function(){var $elf=this,$vars={},$r0=this._createStructure("iName");$r0.value=this._appendStructure($r0,this._consumedBy(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._apply("nameFirst"));$r1.value=this._appendStructure($r1,this._many(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("nameRest"));return $r2;}));return $r1;}));return $r0;},
"isKeyword":function(){var $elf=this,$vars={},$r0=this._createStructure("isKeyword");$vars.x=this._appendStructure($r0,this.anything());$r0.value=this._pred(BSJSParser._isKeyword($vars.x));return $r0;},
"name":function(){var $elf=this,$vars={},$r0=this._createStructure("name");$vars.n=this._appendStructure($r0,this._apply("iName"));this._appendStructure($r0,this._not(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("isKeyword",$vars.n));return $r1;}));$r0.value=["name",(($vars.n == "self")?"$elf":$vars.n)];return $r0;},
"keyword":function(){var $elf=this,$vars={},$r0=this._createStructure("keyword");$vars.k=this._appendStructure($r0,this._apply("iName"));this._appendStructure($r0,this._applyWithArgs("isKeyword",$vars.k));$r0.value=[$vars.k,$vars.k];return $r0;},
"hexDigit":function(){var $elf=this,$vars={},$r0=this._createStructure("hexDigit");$vars.x=this._appendStructure($r0,this._apply("char"));$vars.v=this["hexDigits"].indexOf($vars.x.toLowerCase());this._pred(($vars.v >= (0)));$r0.value=$vars.v;return $r0;},
"hexLit":function(){var $elf=this,$vars={},$r0=this._createStructure("hexLit");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.n=this._appendStructure($r1,this._apply("hexLit"));$vars.d=this._appendStructure($r1,this._apply("hexDigit"));$r1.value=(($vars.n * (16)) + $vars.d);return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("hexDigit"));return $r1;}));return $r0;},
"number":function(){var $elf=this,$vars={},$r0=this._createStructure("number");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "0":this._appendStructure($r2,this.exactly("x"));"0x";$vars.n=this._appendStructure($r2,this._apply("hexLit"));$r2.value=["number",$vars.n];break;default: throw fail}return $r2;}).call(this));return $r1;},function(){var $r1=this._createStructure(null);$vars.f=this._appendStructure($r1,this._consumedBy(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._many1(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._apply("digit"));return $r3;}));$r2.value=this._appendStructure($r2,this._opt(function(){var $r3=this._createStructure(null);this._appendStructure($r3,this.exactly("."));$r3.value=this._appendStructure($r3,this._many1(function(){var $r4=this._createStructure(null);$r4.value=this._appendStructure($r4,this._apply("digit"));return $r4;}));return $r3;}));return $r2;}));$r1.value=["number",parseFloat($vars.f)];return $r1;}));return $r0;},
"escapeChar":function(){var $elf=this,$vars={},$r0=this._createStructure("escapeChar");$vars.s=this._appendStructure($r0,this._consumedBy(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this.exactly("\\"));$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "u":this._appendStructure($r3,this._apply("hexDigit"));this._appendStructure($r3,this._apply("hexDigit"));this._appendStructure($r3,this._apply("hexDigit"));$r3.value=this._appendStructure($r3,this._apply("hexDigit"));break;case "x":this._appendStructure($r3,this._apply("hexDigit"));$r3.value=this._appendStructure($r3,this._apply("hexDigit"));break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("char"));return $r2;}));return $r1;}));$r0.value=unescape($vars.s);return $r0;},
"str":function(){var $elf=this,$vars={},$r0=this._createStructure("str");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "\"":$r2.value=this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,(function(){var $r4=this._createStructure(null);switch(this._appendStructure($r4,this._apply('anything'))){case "\"":this._appendStructure($r4,this.exactly("\""));"\"\"\"";$vars.cs=this._appendStructure($r4,this._many(function(){var $r5=this._createStructure(null);this._appendStructure($r5,this._not(function(){var $r6=this._createStructure(null);this._appendStructure($r6,this.exactly("\""));this._appendStructure($r6,this.exactly("\""));this._appendStructure($r6,this.exactly("\""));$r6.value="\"\"\"";return $r6;}));$r5.value=this._appendStructure($r5,this._apply("char"));return $r5;}));this._appendStructure($r4,this.exactly("\""));this._appendStructure($r4,this.exactly("\""));this._appendStructure($r4,this.exactly("\""));"\"\"\"";$r4.value=["string",$vars.cs.join("")];break;default: throw fail}return $r4;}).call(this));return $r3;},function(){var $r3=this._createStructure(null);$vars.cs=this._appendStructure($r3,this._many(function(){var $r4=this._createStructure(null);$r4.value=this._appendStructure($r4,this._or(function(){var $r5=this._createStructure(null);$r5.value=this._appendStructure($r5,this._apply("escapeChar"));return $r5;},function(){var $r5=this._createStructure(null);this._appendStructure($r5,this._not(function(){var $r6=this._createStructure(null);$r6.value=this._appendStructure($r6,this.exactly("\""));return $r6;}));$r5.value=this._appendStructure($r5,this._apply("char"));return $r5;}));return $r4;}));this._appendStructure($r3,this.exactly("\""));$r3.value=["string",$vars.cs.join("")];return $r3;}));break;case "\'":$vars.cs=this._appendStructure($r2,this._many(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._or(function(){var $r4=this._createStructure(null);$r4.value=this._appendStructure($r4,this._apply("escapeChar"));return $r4;},function(){var $r4=this._createStructure(null);this._appendStructure($r4,this._not(function(){var $r5=this._createStructure(null);$r5.value=this._appendStructure($r5,this.exactly("\'"));return $r5;}));$r4.value=this._appendStructure($r4,this._apply("char"));return $r4;}));return $r3;}));this._appendStructure($r2,this.exactly("\'"));$r2.value=["string",$vars.cs.join("")];break;default: throw fail}return $r2;}).call(this));return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "#":$r2.value="#";break;case "`":$r2.value="`";break;default: throw fail}return $r2;}).call(this));$vars.n=this._appendStructure($r1,this._apply("iName"));$r1.value=["string",$vars.n];return $r1;}));return $r0;},
"special":function(){var $elf=this,$vars={},$r0=this._createStructure("special");$vars.s=this._appendStructure($r0,(function(){var $r1=this._createStructure(null);switch(this._appendStructure($r1,this._apply('anything'))){case "(":$r1.value="(";break;case ")":$r1.value=")";break;case "{":$r1.value="{";break;case "}":$r1.value="}";break;case "[":$r1.value="[";break;case "]":$r1.value="]";break;case ",":$r1.value=",";break;case ";":$r1.value=";";break;case "?":$r1.value="?";break;case ":":$r1.value=":";break;case "!":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "=":$r3.value=this._appendStructure($r3,this._or(function(){var $r4=this._createStructure(null);$r4.value=this._appendStructure($r4,(function(){var $r5=this._createStructure(null);switch(this._appendStructure($r5,this._apply('anything'))){case "=":$r5.value="!==";break;default: throw fail}return $r5;}).call(this));return $r4;},function(){var $r4=this._createStructure(null);$r4.value="!=";return $r4;}));break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="!";return $r2;}));break;case "=":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "=":$r3.value=this._appendStructure($r3,this._or(function(){var $r4=this._createStructure(null);$r4.value=this._appendStructure($r4,(function(){var $r5=this._createStructure(null);switch(this._appendStructure($r5,this._apply('anything'))){case "=":$r5.value="===";break;default: throw fail}return $r5;}).call(this));return $r4;},function(){var $r4=this._createStructure(null);$r4.value="==";return $r4;}));break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="=";return $r2;}));break;case ">":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "=":$r3.value=">=";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value=">";return $r2;}));break;case "<":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "=":$r3.value="<=";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="<";return $r2;}));break;case "+":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "+":$r3.value="++";break;case "=":$r3.value="+=";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="+";return $r2;}));break;case "-":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "-":$r3.value="--";break;case "=":$r3.value="-=";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="-";return $r2;}));break;case "*":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "=":$r3.value="*=";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="*";return $r2;}));break;case "/":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "=":$r3.value="/=";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="/";return $r2;}));break;case "%":$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "=":$r3.value="%=";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value="%";return $r2;}));break;case "&":$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "&":$r2.value=this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,(function(){var $r4=this._createStructure(null);switch(this._appendStructure($r4,this._apply('anything'))){case "=":$r4.value="&&=";break;default: throw fail}return $r4;}).call(this));return $r3;},function(){var $r3=this._createStructure(null);$r3.value="&&";return $r3;}));break;default: throw fail}return $r2;}).call(this));break;case "|":$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "|":$r2.value=this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,(function(){var $r4=this._createStructure(null);switch(this._appendStructure($r4,this._apply('anything'))){case "=":$r4.value="||=";break;default: throw fail}return $r4;}).call(this));return $r3;},function(){var $r3=this._createStructure(null);$r3.value="||";return $r3;}));break;default: throw fail}return $r2;}).call(this));break;case ".":$r1.value=".";break;default: throw fail}return $r1;}).call(this));$r0.value=[$vars.s,$vars.s];return $r0;},
"tok":function(){var $elf=this,$vars={},$r0=this._createStructure("tok");this._appendStructure($r0,this._apply("spaces"));$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("name"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("keyword"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("number"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("str"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("special"));return $r1;}));return $r0;},
"toks":function(){var $elf=this,$vars={},$r0=this._createStructure("toks");$vars.ts=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("token"));return $r1;}));this._appendStructure($r0,this._apply("spaces"));this._appendStructure($r0,this.end());$r0.value=$vars.ts;return $r0;},
"token":function(){var $elf=this,$vars={},$r0=this._createStructure("token");$vars.tt=this._appendStructure($r0,this.anything());$vars.t=this._appendStructure($r0,this._apply("tok"));this._pred(($vars.t[(0)] == $vars.tt));$r0.value=$vars.t[(1)];return $r0;},
"spacesNoNl":function(){var $elf=this,$vars={},$r0=this._createStructure("spacesNoNl");$r0.value=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._not(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this.exactly("\n"));return $r2;}));$r1.value=this._appendStructure($r1,this._apply("space"));return $r1;}));return $r0;},
"expr":function(){var $elf=this,$vars={},$r0=this._createStructure("expr");$vars.e=this._appendStructure($r0,this._apply("orExpr"));$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","?"));$vars.t=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",":"));$vars.f=this._appendStructure($r1,this._apply("expr"));$r1.value=["condExpr",$vars.e,$vars.t,$vars.f];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["set",$vars.e,$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","+="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["mset",$vars.e,"+",$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","-="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["mset",$vars.e,"-",$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","*="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["mset",$vars.e,"*",$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","/="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["mset",$vars.e,"/",$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","%="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["mset",$vars.e,"%",$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","&&="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["mset",$vars.e,"&&",$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","||="));$vars.rhs=this._appendStructure($r1,this._apply("expr"));$r1.value=["mset",$vars.e,"||",$vars.rhs];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._apply("empty"));$r1.value=$vars.e;return $r1;}));return $r0;},
"orExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("orExpr");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("orExpr"));this._appendStructure($r1,this._applyWithArgs("token","||"));$vars.y=this._appendStructure($r1,this._apply("andExpr"));$r1.value=["binop","||",$vars.x,$vars.y];return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("andExpr"));return $r1;}));return $r0;},
"andExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("andExpr");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("andExpr"));this._appendStructure($r1,this._applyWithArgs("token","&&"));$vars.y=this._appendStructure($r1,this._apply("eqExpr"));$r1.value=["binop","&&",$vars.x,$vars.y];return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("eqExpr"));return $r1;}));return $r0;},
"eqExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("eqExpr");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("eqExpr"));$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","=="));$vars.y=this._appendStructure($r2,this._apply("relExpr"));$r2.value=["binop","==",$vars.x,$vars.y];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","!="));$vars.y=this._appendStructure($r2,this._apply("relExpr"));$r2.value=["binop","!=",$vars.x,$vars.y];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","==="));$vars.y=this._appendStructure($r2,this._apply("relExpr"));$r2.value=["binop","===",$vars.x,$vars.y];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","!=="));$vars.y=this._appendStructure($r2,this._apply("relExpr"));$r2.value=["binop","!==",$vars.x,$vars.y];return $r2;}));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("relExpr"));return $r1;}));return $r0;},
"relExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("relExpr");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("relExpr"));$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token",">"));$vars.y=this._appendStructure($r2,this._apply("addExpr"));$r2.value=["binop",">",$vars.x,$vars.y];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token",">="));$vars.y=this._appendStructure($r2,this._apply("addExpr"));$r2.value=["binop",">=",$vars.x,$vars.y];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","<"));$vars.y=this._appendStructure($r2,this._apply("addExpr"));$r2.value=["binop","<",$vars.x,$vars.y];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","<="));$vars.y=this._appendStructure($r2,this._apply("addExpr"));$r2.value=["binop","<=",$vars.x,$vars.y];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","instanceof"));$vars.y=this._appendStructure($r2,this._apply("addExpr"));$r2.value=["binop","instanceof",$vars.x,$vars.y];return $r2;}));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("addExpr"));return $r1;}));return $r0;},
"addExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("addExpr");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("addExpr"));this._appendStructure($r1,this._applyWithArgs("token","+"));$vars.y=this._appendStructure($r1,this._apply("mulExpr"));$r1.value=["binop","+",$vars.x,$vars.y];return $r1;},function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("addExpr"));this._appendStructure($r1,this._applyWithArgs("token","-"));$vars.y=this._appendStructure($r1,this._apply("mulExpr"));$r1.value=["binop","-",$vars.x,$vars.y];return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("mulExpr"));return $r1;}));return $r0;},
"mulExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("mulExpr");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("mulExpr"));this._appendStructure($r1,this._applyWithArgs("token","*"));$vars.y=this._appendStructure($r1,this._apply("unary"));$r1.value=["binop","*",$vars.x,$vars.y];return $r1;},function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("mulExpr"));this._appendStructure($r1,this._applyWithArgs("token","/"));$vars.y=this._appendStructure($r1,this._apply("unary"));$r1.value=["binop","/",$vars.x,$vars.y];return $r1;},function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("mulExpr"));this._appendStructure($r1,this._applyWithArgs("token","%"));$vars.y=this._appendStructure($r1,this._apply("unary"));$r1.value=["binop","%",$vars.x,$vars.y];return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("unary"));return $r1;}));return $r0;},
"unary":function(){var $elf=this,$vars={},$r0=this._createStructure("unary");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","-"));$vars.p=this._appendStructure($r1,this._apply("postfix"));$r1.value=["unop","-",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","+"));$vars.p=this._appendStructure($r1,this._apply("postfix"));$r1.value=["unop","+",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","++"));$vars.p=this._appendStructure($r1,this._apply("postfix"));$r1.value=["preop","++",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","--"));$vars.p=this._appendStructure($r1,this._apply("postfix"));$r1.value=["preop","--",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","!"));$vars.p=this._appendStructure($r1,this._apply("unary"));$r1.value=["unop","!",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","void"));$vars.p=this._appendStructure($r1,this._apply("unary"));$r1.value=["unop","void",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","delete"));$vars.p=this._appendStructure($r1,this._apply("unary"));$r1.value=["unop","delete",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","typeof"));$vars.p=this._appendStructure($r1,this._apply("unary"));$r1.value=["unop","typeof",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("postfix"));return $r1;}));return $r0;},
"postfix":function(){var $elf=this,$vars={},$r0=this._createStructure("postfix");$vars.p=this._appendStructure($r0,this._apply("primExpr"));$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._apply("spacesNoNl"));this._appendStructure($r1,this._applyWithArgs("token","++"));$r1.value=["postop","++",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._apply("spacesNoNl"));this._appendStructure($r1,this._applyWithArgs("token","--"));$r1.value=["postop","--",$vars.p];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._apply("empty"));$r1.value=$vars.p;return $r1;}));return $r0;},
"primExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("primExpr");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.p=this._appendStructure($r1,this._apply("primExpr"));$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","["));$vars.i=this._appendStructure($r2,this._apply("expr"));this._appendStructure($r2,this._applyWithArgs("token","]"));$r2.value=["getp",$vars.i,$vars.p];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","."));$vars.m=this._appendStructure($r2,this._applyWithArgs("token","name"));this._appendStructure($r2,this._applyWithArgs("token","("));$vars.as=this._appendStructure($r2,this._applyWithArgs("listOf","expr",","));this._appendStructure($r2,this._applyWithArgs("token",")"));$r2.value=["send",$vars.m,$vars.p].concat($vars.as);return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","."));$vars.f=this._appendStructure($r2,this._applyWithArgs("token","name"));$r2.value=["getp",["string",$vars.f],$vars.p];return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","("));$vars.as=this._appendStructure($r2,this._applyWithArgs("listOf","expr",","));this._appendStructure($r2,this._applyWithArgs("token",")"));$r2.value=["call",$vars.p].concat($vars.as);return $r2;}));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("primExprHd"));return $r1;}));return $r0;},
"primExprHd":function(){var $elf=this,$vars={},$r0=this._createStructure("primExprHd");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","("));$vars.e=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",")"));$r1.value=$vars.e;return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","this"));$r1.value=["this"];return $r1;},function(){var $r1=this._createStructure(null);$vars.n=this._appendStructure($r1,this._applyWithArgs("token","name"));$r1.value=["get",$vars.n];return $r1;},function(){var $r1=this._createStructure(null);$vars.n=this._appendStructure($r1,this._applyWithArgs("token","number"));$r1.value=["number",$vars.n];return $r1;},function(){var $r1=this._createStructure(null);$vars.s=this._appendStructure($r1,this._applyWithArgs("token","string"));$r1.value=["string",$vars.s];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","function"));$r1.value=this._appendStructure($r1,this._apply("funcRest"));return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","new"));$vars.e=this._appendStructure($r1,this._apply("primExpr"));$r1.value=["new",$vars.e];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","["));$vars.es=this._appendStructure($r1,this._applyWithArgs("enum","expr",","));this._appendStructure($r1,this._applyWithArgs("token","]"));$r1.value=["arr"].concat($vars.es);return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("json"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("re"));return $r1;}));return $r0;},
"json":function(){var $elf=this,$vars={},$r0=this._createStructure("json");this._appendStructure($r0,this._applyWithArgs("token","{"));$vars.bs=this._appendStructure($r0,this._applyWithArgs("enum","jsonBinding",","));this._appendStructure($r0,this._applyWithArgs("token","}"));$r0.value=["json"].concat($vars.bs);return $r0;},
"jsonBinding":function(){var $elf=this,$vars={},$r0=this._createStructure("jsonBinding");$vars.n=this._appendStructure($r0,this._apply("jsonPropName"));this._appendStructure($r0,this._applyWithArgs("token",":"));$vars.v=this._appendStructure($r0,this._apply("expr"));$r0.value=["binding",$vars.n,$vars.v];return $r0;},
"jsonPropName":function(){var $elf=this,$vars={},$r0=this._createStructure("jsonPropName");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("token","name"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("token","number"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("token","string"));return $r1;}));return $r0;},
"re":function(){var $elf=this,$vars={},$r0=this._createStructure("re");this._appendStructure($r0,this._apply("spaces"));$vars.x=this._appendStructure($r0,this._consumedBy(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this.exactly("/"));this._appendStructure($r1,this._apply("reBody"));this._appendStructure($r1,this.exactly("/"));$r1.value=this._appendStructure($r1,this._many(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("reFlag"));return $r2;}));return $r1;}));$r0.value=["regExpr",$vars.x];return $r0;},
"reBody":function(){var $elf=this,$vars={},$r0=this._createStructure("reBody");this._appendStructure($r0,this._apply("re1stChar"));$r0.value=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("reChar"));return $r1;}));return $r0;},
"re1stChar":function(){var $elf=this,$vars={},$r0=this._createStructure("re1stChar");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._not(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "*":$r3.value="*";break;case "\\":$r3.value="\\";break;case "/":$r3.value="/";break;case "[":$r3.value="[";break;default: throw fail}return $r3;}).call(this));return $r2;}));$r1.value=this._appendStructure($r1,this._apply("reNonTerm"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("escapeChar"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("reClass"));return $r1;}));return $r0;},
"reChar":function(){var $elf=this,$vars={},$r0=this._createStructure("reChar");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("re1stChar"));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "*":$r2.value="*";break;default: throw fail}return $r2;}).call(this));return $r1;}));return $r0;},
"reNonTerm":function(){var $elf=this,$vars={},$r0=this._createStructure("reNonTerm");this._appendStructure($r0,this._not(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "\n":$r2.value="\n";break;case "\r":$r2.value="\r";break;default: throw fail}return $r2;}).call(this));return $r1;}));$r0.value=this._appendStructure($r0,this._apply("char"));return $r0;},
"reClass":function(){var $elf=this,$vars={},$r0=this._createStructure("reClass");this._appendStructure($r0,this.exactly("["));this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("reClassChar"));return $r1;}));$r0.value=this._appendStructure($r0,this.exactly("]"));return $r0;},
"reClassChar":function(){var $elf=this,$vars={},$r0=this._createStructure("reClassChar");this._appendStructure($r0,this._not(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,(function(){var $r2=this._createStructure(null);switch(this._appendStructure($r2,this._apply('anything'))){case "[":$r2.value="[";break;case "]":$r2.value="]";break;default: throw fail}return $r2;}).call(this));return $r1;}));$r0.value=this._appendStructure($r0,this._apply("reChar"));return $r0;},
"reFlag":function(){var $elf=this,$vars={},$r0=this._createStructure("reFlag");$r0.value=this._appendStructure($r0,this._apply("nameFirst"));return $r0;},
"formal":function(){var $elf=this,$vars={},$r0=this._createStructure("formal");this._appendStructure($r0,this._apply("spaces"));$r0.value=this._appendStructure($r0,this._applyWithArgs("token","name"));return $r0;},
"funcRest":function(){var $elf=this,$vars={},$r0=this._createStructure("funcRest");this._appendStructure($r0,this._applyWithArgs("token","("));$vars.fs=this._appendStructure($r0,this._applyWithArgs("listOf","formal",","));this._appendStructure($r0,this._applyWithArgs("token",")"));this._appendStructure($r0,this._applyWithArgs("token","{"));$vars.body=this._appendStructure($r0,this._apply("srcElems"));this._appendStructure($r0,this._applyWithArgs("token","}"));$r0.value=["func",$vars.fs,$vars.body];return $r0;},
"sc":function(){var $elf=this,$vars={},$r0=this._createStructure("sc");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._apply("spacesNoNl"));$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,(function(){var $r3=this._createStructure(null);switch(this._appendStructure($r3,this._apply('anything'))){case "\n":$r3.value="\n";break;default: throw fail}return $r3;}).call(this));return $r2;},function(){var $r2=this._createStructure(null);$r2.value=this._lookahead(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this.exactly("}"));return $r3;}).value;return $r2;},function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this.end());return $r2;}));return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._applyWithArgs("token",";"));return $r1;}));return $r0;},
"varBinding":function(){var $elf=this,$vars={},$r0=this._createStructure("varBinding");$vars.n=this._appendStructure($r0,this._applyWithArgs("token","name"));$vars.v=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","="));$r1.value=this._appendStructure($r1,this._apply("expr"));return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._apply("empty"));$r1.value=["get","undefined"];return $r1;}));$r0.value=["assignVar",$vars.n,$vars.v];return $r0;},
"block":function(){var $elf=this,$vars={},$r0=this._createStructure("block");this._appendStructure($r0,this._applyWithArgs("token","{"));$vars.ss=this._appendStructure($r0,this._apply("srcElems"));this._appendStructure($r0,this._applyWithArgs("token","}"));$r0.value=["begin",$vars.ss];return $r0;},
"stmt":function(){var $elf=this,$vars={},$r0=this._createStructure("stmt");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("block"));return $r1;},function(){var $r1=this._createStructure(null);$vars.decl=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._applyWithArgs("token","var"));return $r2;},function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._applyWithArgs("token","let"));return $r2;},function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._applyWithArgs("token","const"));return $r2;}));$vars.bs=this._appendStructure($r1,this._applyWithArgs("listOf","varBinding",","));this._appendStructure($r1,this._apply("sc"));$r1.value=["beginVars",$vars.decl].concat($vars.bs);return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","if"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.c=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",")"));$vars.t=this._appendStructure($r1,this._apply("stmt"));$vars.f=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","else"));$r2.value=this._appendStructure($r2,this._apply("stmt"));return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._apply("empty"));$r2.value=["get","undefined"];return $r2;}));$r1.value=["if",$vars.c,$vars.t,$vars.f];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","while"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.c=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",")"));$vars.s=this._appendStructure($r1,this._apply("stmt"));$r1.value=["while",$vars.c,$vars.s];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","do"));$vars.s=this._appendStructure($r1,this._apply("stmt"));this._appendStructure($r1,this._applyWithArgs("token","while"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.c=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",")"));this._appendStructure($r1,this._apply("sc"));$r1.value=["doWhile",$vars.s,$vars.c];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","for"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.i=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$vars.decl=this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._applyWithArgs("token","var"));return $r3;},function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._applyWithArgs("token","let"));return $r3;},function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._applyWithArgs("token","const"));return $r3;}));$vars.bs=this._appendStructure($r2,this._applyWithArgs("listOf","varBinding",","));$r2.value=["beginVars",$vars.decl].concat($vars.bs);return $r2;},function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("expr"));return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._apply("empty"));$r2.value=["get","undefined"];return $r2;}));this._appendStructure($r1,this._applyWithArgs("token",";"));$vars.c=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("expr"));return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._apply("empty"));$r2.value=["get","true"];return $r2;}));this._appendStructure($r1,this._applyWithArgs("token",";"));$vars.u=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("expr"));return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._apply("empty"));$r2.value=["get","undefined"];return $r2;}));this._appendStructure($r1,this._applyWithArgs("token",")"));$vars.s=this._appendStructure($r1,this._apply("stmt"));$r1.value=["for",$vars.i,$vars.c,$vars.u,$vars.s];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","for"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.v=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$vars.decl=this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._applyWithArgs("token","var"));return $r3;},function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._applyWithArgs("token","let"));return $r3;},function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._applyWithArgs("token","const"));return $r3;}));$vars.n=this._appendStructure($r2,this._applyWithArgs("token","name"));$r2.value=["beginVars",$vars.decl,["noAssignVar",$vars.n]];return $r2;},function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("expr"));return $r2;}));this._appendStructure($r1,this._applyWithArgs("token","in"));$vars.e=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",")"));$vars.s=this._appendStructure($r1,this._apply("stmt"));$r1.value=["forIn",$vars.v,$vars.e,$vars.s];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","switch"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.e=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",")"));this._appendStructure($r1,this._applyWithArgs("token","{"));$vars.cs=this._appendStructure($r1,this._many(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);this._appendStructure($r3,this._applyWithArgs("token","case"));$vars.c=this._appendStructure($r3,this._apply("expr"));this._appendStructure($r3,this._applyWithArgs("token",":"));$vars.cs=this._appendStructure($r3,this._apply("srcElems"));$r3.value=["case",$vars.c,["begin",$vars.cs]];return $r3;},function(){var $r3=this._createStructure(null);this._appendStructure($r3,this._applyWithArgs("token","default"));this._appendStructure($r3,this._applyWithArgs("token",":"));$vars.cs=this._appendStructure($r3,this._apply("srcElems"));$r3.value=["default",["begin",$vars.cs]];return $r3;}));return $r2;}));this._appendStructure($r1,this._applyWithArgs("token","}"));$r1.value=["switch",$vars.e].concat($vars.cs);return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","break"));this._appendStructure($r1,this._apply("sc"));$r1.value=["break"];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","continue"));this._appendStructure($r1,this._apply("sc"));$r1.value=["continue"];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","throw"));this._appendStructure($r1,this._apply("spacesNoNl"));$vars.e=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._apply("sc"));$r1.value=["throw",$vars.e];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","try"));$vars.t=this._appendStructure($r1,this._apply("block"));this._appendStructure($r1,this._applyWithArgs("token","catch"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.e=this._appendStructure($r1,this._applyWithArgs("token","name"));this._appendStructure($r1,this._applyWithArgs("token",")"));$vars.c=this._appendStructure($r1,this._apply("block"));$vars.f=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._applyWithArgs("token","finally"));$r2.value=this._appendStructure($r2,this._apply("block"));return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._apply("empty"));$r2.value=["get","undefined"];return $r2;}));$r1.value=["try",$vars.t,$vars.e,$vars.c,$vars.f];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","return"));$vars.e=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);$r2.value=this._appendStructure($r2,this._apply("expr"));return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._apply("empty"));$r2.value=["get","undefined"];return $r2;}));this._appendStructure($r1,this._apply("sc"));$r1.value=["return",$vars.e];return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","with"));this._appendStructure($r1,this._applyWithArgs("token","("));$vars.x=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._applyWithArgs("token",")"));$vars.s=this._appendStructure($r1,this._apply("stmt"));$r1.value=["with",$vars.x,$vars.s];return $r1;},function(){var $r1=this._createStructure(null);$vars.e=this._appendStructure($r1,this._apply("expr"));this._appendStructure($r1,this._apply("sc"));$r1.value=$vars.e;return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token",";"));$r1.value=["get","undefined"];return $r1;}));return $r0;},
"srcElem":function(){var $elf=this,$vars={},$r0=this._createStructure("srcElem");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._applyWithArgs("token","function"));$vars.n=this._appendStructure($r1,this._applyWithArgs("token","name"));$vars.f=this._appendStructure($r1,this._apply("funcRest"));$r1.value=["assignVar",$vars.n,$vars.f];return $r1;},function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("stmt"));return $r1;}));return $r0;},
"srcElems":function(){var $elf=this,$vars={},$r0=this._createStructure("srcElems");$vars.ss=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("srcElem"));return $r1;}));$r0.value=["beginTop"].concat($vars.ss);return $r0;},
"topLevel":function(){var $elf=this,$vars={},$r0=this._createStructure("topLevel");$vars.r=this._appendStructure($r0,this._apply("srcElems"));this._appendStructure($r0,this._apply("spaces"));this._appendStructure($r0,this.end());$r0.value=$vars.r;return $r0;}});(BSJSParser["hexDigits"]="0123456789abcdef");(BSJSParser["keywords"]=({}));(keywords=["break","case","catch","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","ometa","let","const"]);for(var idx=(0);(idx < keywords["length"]);idx++){(BSJSParser["keywords"][keywords[idx]]=true);}(BSJSParser["_isKeyword"]=(function (k){return this["keywords"].hasOwnProperty(k);}));let BSJSTranslator=objectThatDelegatesTo(OMeta,{
"trans":function(){var $elf=this,$vars={},$r0=this._createStructure("trans");this._appendStructure($r0,this._form(function(){var $r1=this._createStructure(null);$vars.t=this._appendStructure($r1,this.anything());$r1.value=($vars.ans=this._appendStructure($r1,this._apply($vars.t)));return $r1;}));$r0.value=$vars.ans;return $r0;},
"curlyTrans":function(){var $elf=this,$vars={},$r0=this._createStructure("curlyTrans");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._form(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this.exactly("begin"));$r2.value=($vars.r=this._appendStructure($r2,this._apply("curlyTrans")));return $r2;}));$r1.value=$vars.r;return $r1;},function(){var $r1=this._createStructure(null);this._appendStructure($r1,this._form(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this.exactly("begin"));$r2.value=($vars.rs=this._appendStructure($r2,this._many(function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this._apply("trans"));return $r3;})));return $r2;}));$r1.value=(("{" + $vars.rs.join(";")) + ";}");return $r1;},function(){var $r1=this._createStructure(null);$vars.r=this._appendStructure($r1,this._apply("trans"));$r1.value=(("{" + $vars.r) + ";}");return $r1;}));return $r0;},
"this":function(){var $elf=this,$vars={},$r0=this._createStructure("this");$r0.value="this";return $r0;},
"break":function(){var $elf=this,$vars={},$r0=this._createStructure("break");$r0.value="break";return $r0;},
"continue":function(){var $elf=this,$vars={},$r0=this._createStructure("continue");$r0.value="continue";return $r0;},
"number":function(){var $elf=this,$vars={},$r0=this._createStructure("number");$vars.n=this._appendStructure($r0,this.anything());$r0.value=(("(" + $vars.n) + ")");return $r0;},
"string":function(){var $elf=this,$vars={},$r0=this._createStructure("string");$vars.s=this._appendStructure($r0,this.anything());$r0.value=$vars.s.toProgramString();return $r0;},
"name":function(){var $elf=this,$vars={},$r0=this._createStructure("name");$vars.s=this._appendStructure($r0,this.anything());$r0.value=$vars.s;return $r0;},
"regExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("regExpr");$vars.x=this._appendStructure($r0,this.anything());$r0.value=$vars.x;return $r0;},
"arr":function(){var $elf=this,$vars={},$r0=this._createStructure("arr");$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("trans"));return $r1;}));$r0.value=(("[" + $vars.xs.join(",")) + "]");return $r0;},
"unop":function(){var $elf=this,$vars={},$r0=this._createStructure("unop");$vars.op=this._appendStructure($r0,this.anything());$vars.x=this._appendStructure($r0,this._apply("trans"));$r0.value=(((("(" + $vars.op) + " ") + $vars.x) + ")");return $r0;},
"getp":function(){var $elf=this,$vars={},$r0=this._createStructure("getp");$vars.fd=this._appendStructure($r0,this._apply("trans"));$vars.x=this._appendStructure($r0,this._apply("trans"));$r0.value=((($vars.x + "[") + $vars.fd) + "]");return $r0;},
"get":function(){var $elf=this,$vars={},$r0=this._createStructure("get");$vars.x=this._appendStructure($r0,this.anything());$r0.value=$vars.x;return $r0;},
"set":function(){var $elf=this,$vars={},$r0=this._createStructure("set");$vars.lhs=this._appendStructure($r0,this._apply("trans"));$vars.rhs=this._appendStructure($r0,this._apply("trans"));$r0.value=(((("(" + $vars.lhs) + "=") + $vars.rhs) + ")");return $r0;},
"mset":function(){var $elf=this,$vars={},$r0=this._createStructure("mset");$vars.lhs=this._appendStructure($r0,this._apply("trans"));$vars.op=this._appendStructure($r0,this.anything());$vars.rhs=this._appendStructure($r0,this._apply("trans"));$r0.value=((((("(" + $vars.lhs) + $vars.op) + "=") + $vars.rhs) + ")");return $r0;},
"binop":function(){var $elf=this,$vars={},$r0=this._createStructure("binop");$vars.op=this._appendStructure($r0,this.anything());$vars.x=this._appendStructure($r0,this._apply("trans"));$vars.y=this._appendStructure($r0,this._apply("trans"));$r0.value=(((((("(" + $vars.x) + " ") + $vars.op) + " ") + $vars.y) + ")");return $r0;},
"preop":function(){var $elf=this,$vars={},$r0=this._createStructure("preop");$vars.op=this._appendStructure($r0,this.anything());$vars.x=this._appendStructure($r0,this._apply("trans"));$r0.value=($vars.op + $vars.x);return $r0;},
"postop":function(){var $elf=this,$vars={},$r0=this._createStructure("postop");$vars.op=this._appendStructure($r0,this.anything());$vars.x=this._appendStructure($r0,this._apply("trans"));$r0.value=($vars.x + $vars.op);return $r0;},
"return":function(){var $elf=this,$vars={},$r0=this._createStructure("return");$vars.x=this._appendStructure($r0,this._apply("trans"));$r0.value=("return " + $vars.x);return $r0;},
"with":function(){var $elf=this,$vars={},$r0=this._createStructure("with");$vars.x=this._appendStructure($r0,this._apply("trans"));$vars.s=this._appendStructure($r0,this._apply("curlyTrans"));$r0.value=((("with(" + $vars.x) + ")") + $vars.s);return $r0;},
"if":function(){var $elf=this,$vars={},$r0=this._createStructure("if");$vars.cond=this._appendStructure($r0,this._apply("trans"));$vars.t=this._appendStructure($r0,this._apply("curlyTrans"));$vars.e=this._appendStructure($r0,this._apply("curlyTrans"));$r0.value=((((("if(" + $vars.cond) + ")") + $vars.t) + "else") + $vars.e);return $r0;},
"condExpr":function(){var $elf=this,$vars={},$r0=this._createStructure("condExpr");$vars.cond=this._appendStructure($r0,this._apply("trans"));$vars.t=this._appendStructure($r0,this._apply("trans"));$vars.e=this._appendStructure($r0,this._apply("trans"));$r0.value=(((((("(" + $vars.cond) + "?") + $vars.t) + ":") + $vars.e) + ")");return $r0;},
"while":function(){var $elf=this,$vars={},$r0=this._createStructure("while");$vars.cond=this._appendStructure($r0,this._apply("trans"));$vars.body=this._appendStructure($r0,this._apply("curlyTrans"));$r0.value=((("while(" + $vars.cond) + ")") + $vars.body);return $r0;},
"doWhile":function(){var $elf=this,$vars={},$r0=this._createStructure("doWhile");$vars.body=this._appendStructure($r0,this._apply("curlyTrans"));$vars.cond=this._appendStructure($r0,this._apply("trans"));$r0.value=(((("do" + $vars.body) + "while(") + $vars.cond) + ")");return $r0;},
"for":function(){var $elf=this,$vars={},$r0=this._createStructure("for");$vars.init=this._appendStructure($r0,this._apply("trans"));$vars.cond=this._appendStructure($r0,this._apply("trans"));$vars.upd=this._appendStructure($r0,this._apply("trans"));$vars.body=this._appendStructure($r0,this._apply("curlyTrans"));$r0.value=((((((("for(" + $vars.init) + ";") + $vars.cond) + ";") + $vars.upd) + ")") + $vars.body);return $r0;},
"forIn":function(){var $elf=this,$vars={},$r0=this._createStructure("forIn");$vars.x=this._appendStructure($r0,this._apply("trans"));$vars.arr=this._appendStructure($r0,this._apply("trans"));$vars.body=this._appendStructure($r0,this._apply("curlyTrans"));$r0.value=((((("for(" + $vars.x) + " in ") + $vars.arr) + ")") + $vars.body);return $r0;},
"beginTop":function(){var $elf=this,$vars={},$r0=this._createStructure("beginTop");$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("trans"));$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);$r3.value=this._pred(($vars.x[($vars.x["length"] - (1))] == "}"));return $r3;},function(){var $r3=this._createStructure(null);$r3.value=this._appendStructure($r3,this.end());return $r3;}));$r2.value=$vars.x;return $r2;},function(){var $r2=this._createStructure(null);this._appendStructure($r2,this._apply("empty"));$r2.value=($vars.x + ";");return $r2;}));return $r1;}));$r0.value=$vars.xs.join("");return $r0;},
"begin":function(){var $elf=this,$vars={},$r0=this._createStructure("begin");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.x=this._appendStructure($r1,this._apply("trans"));this._appendStructure($r1,this.end());$r1.value=$vars.x;return $r1;},function(){var $r1=this._createStructure(null);$vars.xs=this._appendStructure($r1,this._many(function(){var $r2=this._createStructure(null);$vars.x=this._appendStructure($r2,this._apply("trans"));$r2.value=this._appendStructure($r2,this._or(function(){var $r3=this._createStructure(null);this._appendStructure($r3,this._or(function(){var $r4=this._createStructure(null);$r4.value=this._pred(($vars.x[($vars.x["length"] - (1))] == "}"));return $r4;},function(){var $r4=this._createStructure(null);$r4.value=this._appendStructure($r4,this.end());return $r4;}));$r3.value=$vars.x;return $r3;},function(){var $r3=this._createStructure(null);this._appendStructure($r3,this._apply("empty"));$r3.value=($vars.x + ";");return $r3;}));return $r2;}));$r1.value=(("{" + $vars.xs.join("")) + "}");return $r1;}));return $r0;},
"beginVars":function(){var $elf=this,$vars={},$r0=this._createStructure("beginVars");$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._createStructure(null);$vars.decl=this._appendStructure($r1,this.anything());$vars.x=this._appendStructure($r1,this._apply("trans"));this._appendStructure($r1,this.end());$r1.value=(($vars.decl + " ") + $vars.x);return $r1;},function(){var $r1=this._createStructure(null);$vars.decl=this._appendStructure($r1,this.anything());$vars.xs=this._appendStructure($r1,this._many(function(){var $r2=this._createStructure(null);$r2.value=($vars.x=this._appendStructure($r2,this._apply("trans")));return $r2;}));$r1.value=(($vars.decl + " ") + $vars.xs.join(","));return $r1;}));return $r0;},
"func":function(){var $elf=this,$vars={},$r0=this._createStructure("func");$vars.args=this._appendStructure($r0,this.anything());$vars.body=this._appendStructure($r0,this._apply("curlyTrans"));$r0.value=(((("(function (" + $vars.args.join(",")) + ")") + $vars.body) + ")");return $r0;},
"call":function(){var $elf=this,$vars={},$r0=this._createStructure("call");$vars.fn=this._appendStructure($r0,this._apply("trans"));$vars.args=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("trans"));return $r1;}));$r0.value=((($vars.fn + "(") + $vars.args.join(",")) + ")");return $r0;},
"send":function(){var $elf=this,$vars={},$r0=this._createStructure("send");$vars.msg=this._appendStructure($r0,this.anything());$vars.recv=this._appendStructure($r0,this._apply("trans"));$vars.args=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("trans"));return $r1;}));$r0.value=((((($vars.recv + ".") + $vars.msg) + "(") + $vars.args.join(",")) + ")");return $r0;},
"new":function(){var $elf=this,$vars={},$r0=this._createStructure("new");$vars.x=this._appendStructure($r0,this._apply("trans"));$r0.value=("new " + $vars.x);return $r0;},
"assignVar":function(){var $elf=this,$vars={},$r0=this._createStructure("assignVar");$vars.name=this._appendStructure($r0,this.anything());$vars.val=this._appendStructure($r0,this._apply("trans"));$r0.value=(($vars.name + "=") + $vars.val);return $r0;},
"noAssignVar":function(){var $elf=this,$vars={},$r0=this._createStructure("noAssignVar");$vars.name=this._appendStructure($r0,this.anything());$r0.value=$vars.name;return $r0;},
"throw":function(){var $elf=this,$vars={},$r0=this._createStructure("throw");$vars.x=this._appendStructure($r0,this._apply("trans"));$r0.value=("throw " + $vars.x);return $r0;},
"try":function(){var $elf=this,$vars={},$r0=this._createStructure("try");$vars.x=this._appendStructure($r0,this._apply("curlyTrans"));$vars.name=this._appendStructure($r0,this.anything());$vars.c=this._appendStructure($r0,this._apply("curlyTrans"));$vars.f=this._appendStructure($r0,this._apply("curlyTrans"));$r0.value=((((((("try " + $vars.x) + "catch(") + $vars.name) + ")") + $vars.c) + "finally") + $vars.f);return $r0;},
"json":function(){var $elf=this,$vars={},$r0=this._createStructure("json");$vars.props=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("trans"));return $r1;}));$r0.value=(("({" + $vars.props.join(",")) + "})");return $r0;},
"binding":function(){var $elf=this,$vars={},$r0=this._createStructure("binding");$vars.name=this._appendStructure($r0,this.anything());$vars.val=this._appendStructure($r0,this._apply("trans"));$r0.value=(($vars.name.toProgramString() + ": ") + $vars.val);return $r0;},
"switch":function(){var $elf=this,$vars={},$r0=this._createStructure("switch");$vars.x=this._appendStructure($r0,this._apply("trans"));$vars.cases=this._appendStructure($r0,this._many(function(){var $r1=this._createStructure(null);$r1.value=this._appendStructure($r1,this._apply("trans"));return $r1;}));$r0.value=(((("switch(" + $vars.x) + "){") + $vars.cases.join(";")) + "}");return $r0;},
"case":function(){var $elf=this,$vars={},$r0=this._createStructure("case");$vars.x=this._appendStructure($r0,this._apply("trans"));$vars.y=this._appendStructure($r0,this._apply("trans"));$r0.value=((("case " + $vars.x) + ": ") + $vars.y);return $r0;},
"default":function(){var $elf=this,$vars={},$r0=this._createStructure("default");$vars.y=this._appendStructure($r0,this._apply("trans"));$r0.value=("default: " + $vars.y);return $r0;}})

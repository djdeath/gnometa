// This file was generated using Gnometa
// https://github.com/djdeath/gnometa
let BSSemActionParser=objectThatDelegatesTo(BSJSParser,{
"jsOmetaKeyword":function(){var $elf=this,$vars={},$r0=this._startStructure(1, true);$vars.k=this._getStructureValue(this.anything());this._appendStructure($r0,this._apply("spaces"),4);this._appendStructure($r0,this.exactly("@"),6);$vars.n=this._appendStructure($r0,this._apply("iName"),9);this._pred(($vars.k == $vars.n));$r0.value=$vars.k;return this._endStructure($r0);},
"primExprHd":function(){var $elf=this,$vars={},$r0=this._startStructure(14, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(17);this._appendStructure($r1,this._applyWithArgs("jsOmetaKeyword","location"),19);$r1.value=["Location"];return this._endStructure($r1);},function(){return this._forwardStructure(BSJSParser._superApplyWithArgs(this,"primExprHd"),23);}),15);return this._endStructure($r0);},
"curlySemAction":function(){var $elf=this,$vars={},$r0=this._startStructure(25, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(28);this._appendStructure($r1,this._applyWithArgs("token","{"),30);$vars.r=this._appendStructure($r1,this._apply("expr"),33);this._appendStructure($r1,this._apply("sc"),35);this._appendStructure($r1,this._applyWithArgs("token","}"),37);$r1.value=$vars.r;return this._endStructure($r1);},function(){var $r1=this._startStructure(40);this._appendStructure($r1,this._applyWithArgs("token","{"),42);$vars.ss=this._appendStructure($r1,this._many(function(){var $r2=this._startStructure(47);$vars.s=this._appendStructure($r2,this._apply("srcElem"),50);this._appendStructure($r2,this._lookahead(function(){return this._forwardStructure(this._apply("srcElem"),54);}),52);$r2.value=$vars.s;return this._endStructure($r2);}),45);$vars.s=this._appendStructure($r1,this._or(function(){var $r2=this._startStructure(60);$vars.r=this._appendStructure($r2,this._apply("expr"),63);this._appendStructure($r2,this._apply("sc"),65);$r2.value=["return",$vars.r];return this._endStructure($r2);},function(){return this._forwardStructure(this._apply("srcElem"),68);}),58);$vars.ss.push($vars.s);this._appendStructure($r1,this._applyWithArgs("token","}"),71);$r1.value=["send","call",["func",[],["begin"].concat($vars.ss)],["this"]];return this._endStructure($r1);}),26);return this._endStructure($r0);},
"semAction":function(){var $elf=this,$vars={},$r0=this._startStructure(74, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("curlySemAction"),77);},function(){var $r1=this._startStructure(79);$vars.r=this._appendStructure($r1,this._apply("primExpr"),82);this._appendStructure($r1,this._apply("spaces"),84);$r1.value=$vars.r;return this._endStructure($r1);}),75);return this._endStructure($r0);}});let BSOMetaParser=objectThatDelegatesTo(BaseStrParser,{
"space":function(){var $elf=this,$vars={},$r0=this._startStructure(88, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(BaseStrParser._superApplyWithArgs(this,"space"),91);},function(){return this._forwardStructure(this._applyWithArgs("fromTo","//","\n"),93);},function(){return this._forwardStructure(this._applyWithArgs("fromTo","/*","*/"),97);}),89);return this._endStructure($r0);},
"nameFirst":function(){var $elf=this,$vars={},$r0=this._startStructure(101, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(this.exactly("_"),104);},function(){return this._forwardStructure(this.exactly("$"),106);},function(){return this._forwardStructure(this._apply("letter"),108);}),102);return this._endStructure($r0);},
"nameRest":function(){var $elf=this,$vars={},$r0=this._startStructure(110, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("nameFirst"),113);},function(){return this._forwardStructure(this._apply("digit"),115);}),111);return this._endStructure($r0);},
"tsName":function(){var $elf=this,$vars={},$r0=this._startStructure(117, true);$r0.value=this._appendStructure($r0,this._consumedBy(function(){var $r1=this._startStructure(120);this._appendStructure($r1,this._apply("nameFirst"),122);$r1.value=this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("nameRest"),126);}),124);return this._endStructure($r1);}),118);return this._endStructure($r0);},
"name":function(){var $elf=this,$vars={},$r0=this._startStructure(128, true);this._appendStructure($r0,this._apply("spaces"),130);$r0.value=this._appendStructure($r0,this._apply("tsName"),132);return this._endStructure($r0);},
"hexDigit":function(){var $elf=this,$vars={},$r0=this._startStructure(134, true);$vars.x=this._appendStructure($r0,this._apply("char"),137);$vars.v=this["hexDigits"].indexOf($vars.x.toLowerCase());this._pred(($vars.v >= (0)));$r0.value=$vars.v;return this._endStructure($r0);},
"eChar":function(){var $elf=this,$vars={},$r0=this._startStructure(144, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(147);$vars.s=this._appendStructure($r1,this._consumedBy(function(){var $r2=this._startStructure(152);this._appendStructure($r2,this.exactly("\\"),154);$r2.value=this._appendStructure($r2,this._or(function(){var $r3=this._startStructure(158);this._appendStructure($r3,this.exactly("u"),160);this._appendStructure($r3,this._apply("hexDigit"),162);this._appendStructure($r3,this._apply("hexDigit"),164);this._appendStructure($r3,this._apply("hexDigit"),166);$r3.value=this._appendStructure($r3,this._apply("hexDigit"),168);return this._endStructure($r3);},function(){var $r3=this._startStructure(170);this._appendStructure($r3,this.exactly("x"),172);this._appendStructure($r3,this._apply("hexDigit"),174);$r3.value=this._appendStructure($r3,this._apply("hexDigit"),176);return this._endStructure($r3);},function(){return this._forwardStructure(this._apply("char"),178);}),156);return this._endStructure($r2);}),150);$r1.value=unescape($vars.s);return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("char"),181);}),145);return this._endStructure($r0);},
"tsString":function(){var $elf=this,$vars={},$r0=this._startStructure(183, true);this._appendStructure($r0,this.exactly("\'"),185);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(190);this._appendStructure($r1,this._not(function(){return this._forwardStructure(this.exactly("\'"),194);}),192);$r1.value=this._appendStructure($r1,this._apply("eChar"),196);return this._endStructure($r1);}),188);this._appendStructure($r0,this.exactly("\'"),198);$r0.value=$vars.xs.join("");return this._endStructure($r0);},
"characters":function(){var $elf=this,$vars={},$r0=this._startStructure(201, true);this._appendStructure($r0,this.exactly("`"),203);this._appendStructure($r0,this.exactly("`"),205);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(210);this._appendStructure($r1,this._not(function(){var $r2=this._startStructure(214);this._appendStructure($r2,this.exactly("\'"),216);$r2.value=this._appendStructure($r2,this.exactly("\'"),218);return this._endStructure($r2);}),212);$r1.value=this._appendStructure($r1,this._apply("eChar"),220);return this._endStructure($r1);}),208);this._appendStructure($r0,this.exactly("\'"),222);this._appendStructure($r0,this.exactly("\'"),224);$r0.value=[this._extractLocation($r0),"App","seq",jsValue("string",$vars.xs.join(""))];return this._endStructure($r0);},
"sCharacters":function(){var $elf=this,$vars={},$r0=this._startStructure(227, true);this._appendStructure($r0,this.exactly("\""),229);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(234);this._appendStructure($r1,this._not(function(){return this._forwardStructure(this.exactly("\""),238);}),236);$r1.value=this._appendStructure($r1,this._apply("eChar"),240);return this._endStructure($r1);}),232);this._appendStructure($r0,this.exactly("\""),242);$r0.value=[this._extractLocation($r0),"App","token",jsValue("string",$vars.xs.join(""))];return this._endStructure($r0);},
"string":function(){var $elf=this,$vars={},$r0=this._startStructure(245, true);$vars.xs=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(250);this._appendStructure($r1,this._or(function(){return this._forwardStructure(this.exactly("#"),254);},function(){return this._forwardStructure(this.exactly("`"),256);}),252);$r1.value=this._appendStructure($r1,this._apply("tsName"),258);return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("tsString"),260);}),248);$r0.value=[this._extractLocation($r0),"App","exactly",jsValue("string",$vars.xs)];return this._endStructure($r0);},
"number":function(){var $elf=this,$vars={},$r0=this._startStructure(263, true);$vars.n=this._appendStructure($r0,this._consumedBy(function(){var $r1=this._startStructure(268);this._appendStructure($r1,this._opt(function(){return this._forwardStructure(this.exactly("-"),272);}),270);$r1.value=this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("digit"),276);}),274);return this._endStructure($r1);}),266);$r0.value=[this._extractLocation($r0),"App","exactly",jsValue("number",$vars.n)];return this._endStructure($r0);},
"keyword":function(){var $elf=this,$vars={},$r0=this._startStructure(279, true);$vars.xs=this._getStructureValue(this.anything());this._appendStructure($r0,this._applyWithArgs("token",$vars.xs),282);this._appendStructure($r0,this._not(function(){return this._forwardStructure(this._apply("letterOrDigit"),287);}),285);$r0.value=$vars.xs;return this._endStructure($r0);},
"args":function(){var $elf=this,$vars={},$r0=this._startStructure(290, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(293);this._appendStructure($r1,this.exactly("("),295);$vars.xs=this._appendStructure($r1,this._applyWithArgs("listOf","hostExpr",","),298);this._appendStructure($r1,this._applyWithArgs("token",")"),302);$r1.value=$vars.xs;return this._endStructure($r1);},function(){var $r1=this._startStructure(305);this._appendStructure($r1,this._apply("empty"),307);$r1.value=[];return this._endStructure($r1);}),291);return this._endStructure($r0);},
"application":function(){var $elf=this,$vars={},$r0=this._startStructure(310, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(313);this._appendStructure($r1,this._applyWithArgs("token","^"),315);$vars.rule=this._appendStructure($r1,this._apply("name"),318);$vars.as=this._appendStructure($r1,this._apply("args"),321);$r1.value=[this._extractLocation($r1),"App","super",jsValue("string",$vars.rule)].concat($vars.as);return this._endStructure($r1);},function(){var $r1=this._startStructure(324);$vars.grm=this._appendStructure($r1,this._apply("name"),327);this._appendStructure($r1,this._applyWithArgs("token","."),329);$vars.rule=this._appendStructure($r1,this._apply("name"),332);$vars.as=this._appendStructure($r1,this._apply("args"),335);$r1.value=[this._extractLocation($r1),"App","foreign",jsCode(this._extractLocation($r1),this["locals"],["get",$vars.grm]),jsValue("string",$vars.rule)].concat($vars.as);return this._endStructure($r1);},function(){var $r1=this._startStructure(338);$vars.rule=this._appendStructure($r1,this._apply("name"),341);$vars.as=this._appendStructure($r1,this._apply("args"),344);$r1.value=[this._extractLocation($r1),"App",$vars.rule].concat($vars.as);return this._endStructure($r1);}),311);return this._endStructure($r0);},
"hostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(347, true);$vars.r=this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionParser,"expr"),350);$r0.value=jsCode(this._extractLocation($r0),this["locals"],$vars.r);return this._endStructure($r0);},
"curlyHostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(354, true);$vars.r=this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionParser,"curlySemAction"),357);$r0.value=jsCode(this._extractLocation($r0),this["locals"],$vars.r);return this._endStructure($r0);},
"primHostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(361, true);$vars.r=this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionParser,"semAction"),364);$r0.value=jsCode(this._extractLocation($r0),this["locals"],$vars.r);return this._endStructure($r0);},
"atomicHostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(368, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("curlyHostExpr"),371);},function(){return this._forwardStructure(this._apply("primHostExpr"),373);}),369);return this._endStructure($r0);},
"semAction":function(){var $elf=this,$vars={},$r0=this._startStructure(375, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("curlyHostExpr"),378);},function(){var $r1=this._startStructure(380);this._appendStructure($r1,this._applyWithArgs("token","!"),382);$r1.value=this._appendStructure($r1,this._apply("atomicHostExpr"),384);return this._endStructure($r1);}),376);return this._endStructure($r0);},
"arrSemAction":function(){var $elf=this,$vars={},$r0=this._startStructure(386, true);this._appendStructure($r0,this._applyWithArgs("token","->"),388);$r0.value=this._appendStructure($r0,this._apply("atomicHostExpr"),390);return this._endStructure($r0);},
"semPred":function(){var $elf=this,$vars={},$r0=this._startStructure(392, true);this._appendStructure($r0,this._applyWithArgs("token","?"),394);$vars.x=this._appendStructure($r0,this._apply("atomicHostExpr"),397);$r0.value=[this._extractLocation($r0),"Pred",$vars.x];return this._endStructure($r0);},
"expr":function(){var $elf=this,$vars={},$r0=this._startStructure(400, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(403);$vars.x=this._appendStructure($r1,this._applyWithArgs("expr5",true),406);$vars.xs=this._appendStructure($r1,this._many1(function(){var $r2=this._startStructure(412);this._appendStructure($r2,this._applyWithArgs("token","|"),414);$r2.value=this._appendStructure($r2,this._applyWithArgs("expr5",true),416);return this._endStructure($r2);}),410);$r1.value=[this._extractLocation($r1),"Or",$vars.x].concat($vars.xs);return this._endStructure($r1);},function(){var $r1=this._startStructure(420);$vars.x=this._appendStructure($r1,this._applyWithArgs("expr5",true),423);$vars.xs=this._appendStructure($r1,this._many1(function(){var $r2=this._startStructure(429);this._appendStructure($r2,this._applyWithArgs("token","||"),431);$r2.value=this._appendStructure($r2,this._applyWithArgs("expr5",true),433);return this._endStructure($r2);}),427);$r1.value=[this._extractLocation($r1),"XOr",$vars.x].concat($vars.xs);return this._endStructure($r1);},function(){return this._forwardStructure(this._applyWithArgs("expr5",false),437);}),401);return this._endStructure($r0);},
"expr5":function(){var $elf=this,$vars={},$r0=this._startStructure(440, true);$vars.ne=this._getStructureValue(this.anything());$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(445);$vars.x=this._appendStructure($r1,this._apply("interleavePart"),448);$vars.xs=this._appendStructure($r1,this._many1(function(){var $r2=this._startStructure(453);this._appendStructure($r2,this._applyWithArgs("token","&&"),455);$r2.value=this._appendStructure($r2,this._apply("interleavePart"),457);return this._endStructure($r2);}),451);$r1.value=[this._extractLocation($r1),"Interleave",$vars.x].concat($vars.xs);return this._endStructure($r1);},function(){return this._forwardStructure(this._applyWithArgs("expr4",$vars.ne),460);}),443);return this._endStructure($r0);},
"interleavePart":function(){var $elf=this,$vars={},$r0=this._startStructure(463, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(466);this._appendStructure($r1,this._applyWithArgs("token","("),468);$vars.part=this._appendStructure($r1,this._applyWithArgs("expr4",true),471);this._appendStructure($r1,this._applyWithArgs("token",")"),474);$r1.value=["1",$vars.part];return this._endStructure($r1);},function(){var $r1=this._startStructure(477);$vars.part=this._appendStructure($r1,this._applyWithArgs("expr4",true),480);$r1.value=this._appendStructure($r1,this._applyWithArgs("modedIPart",$vars.part),483);return this._endStructure($r1);}),464);return this._endStructure($r0);},
"modedIPart":function(){var $elf=this,$vars={},$r0=this._startStructure(486, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(489);this._appendStructure($r1,this._form(function(){var $r2=this._startStructure(493);this._appendStructure($r2,this.exactly("And"),495);$r2.value=this._appendStructure($r2,this._form(function(){var $r3=this._startStructure(499);this._appendStructure($r3,this.exactly("Many"),501);$r3.value=$vars.part=this._getStructureValue(this.anything());return this._endStructure($r3);}),497);return this._endStructure($r2);}),491);$r1.value=["*",$vars.part];return this._endStructure($r1);},function(){var $r1=this._startStructure(505);this._appendStructure($r1,this._form(function(){var $r2=this._startStructure(509);this._appendStructure($r2,this.exactly("And"),511);$r2.value=this._appendStructure($r2,this._form(function(){var $r3=this._startStructure(515);this._appendStructure($r3,this.exactly("Many1"),517);$r3.value=$vars.part=this._getStructureValue(this.anything());return this._endStructure($r3);}),513);return this._endStructure($r2);}),507);$r1.value=["+",$vars.part];return this._endStructure($r1);},function(){var $r1=this._startStructure(521);this._appendStructure($r1,this._form(function(){var $r2=this._startStructure(525);this._appendStructure($r2,this.exactly("And"),527);$r2.value=this._appendStructure($r2,this._form(function(){var $r3=this._startStructure(531);this._appendStructure($r3,this.exactly("Opt"),533);$r3.value=$vars.part=this._getStructureValue(this.anything());return this._endStructure($r3);}),529);return this._endStructure($r2);}),523);$r1.value=["?",$vars.part];return this._endStructure($r1);},function(){var $r1=this._startStructure(537);$vars.part=this._getStructureValue(this.anything());$r1.value=["1",$vars.part];return this._endStructure($r1);}),487);return this._endStructure($r0);},
"expr4":function(){var $elf=this,$vars={},$r0=this._startStructure(541, true);$vars.ne=this._getStructureValue(this.anything());$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(546);$vars.xs=this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("expr3"),551);}),549);$vars.act=this._appendStructure($r1,this._apply("arrSemAction"),554);$r1.value=[this._extractLocation($r1),"And"].concat($vars.xs).concat([$vars.act]);return this._endStructure($r1);},function(){var $r1=this._startStructure(557);this._pred($vars.ne);$vars.xs=this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("expr3"),564);}),562);$r1.value=[this._extractLocation($r1),"And"].concat($vars.xs);return this._endStructure($r1);},function(){var $r1=this._startStructure(567);this._pred(($vars.ne == false));$vars.xs=this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("expr3"),574);}),572);$r1.value=[this._extractLocation($r1),"And"].concat($vars.xs);return this._endStructure($r1);}),544);return this._endStructure($r0);},
"optIter":function(){var $elf=this,$vars={},$r0=this._startStructure(577, true);$vars.x=this._getStructureValue(this.anything());$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(582);this._appendStructure($r1,this.exactly("*"),584);$r1.value=[mergeLocation(this._extractLocation($r1),$vars.x[(0)]),"Many",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(587);this._appendStructure($r1,this.exactly("+"),589);$r1.value=[mergeLocation(this._extractLocation($r1),$vars.x[(0)]),"Many1",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(592);this._appendStructure($r1,this.exactly("?"),594);$r1.value=[mergeLocation(this._extractLocation($r1),$vars.x[(0)]),"Opt",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(597);this._appendStructure($r1,this._apply("empty"),599);$r1.value=$vars.x;return this._endStructure($r1);}),580);return this._endStructure($r0);},
"optBind":function(){var $elf=this,$vars={},$r0=this._startStructure(602, true);$vars.x=this._getStructureValue(this.anything());$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(607);this._appendStructure($r1,this.exactly(":"),609);$vars.n=this._appendStructure($r1,this._apply("name"),612);$r1.value=(function (){(this["locals"][$vars.n]=true);return [mergeLocation(this._extractLocation($r1),$vars.x[(0)]),"Set",$vars.n,$vars.x];}).call(this);return this._endStructure($r1);},function(){var $r1=this._startStructure(615);this._appendStructure($r1,this._apply("empty"),617);$r1.value=$vars.x;return this._endStructure($r1);}),605);return this._endStructure($r0);},
"expr3":function(){var $elf=this,$vars={},$r0=this._startStructure(620, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(623);this._appendStructure($r1,this._applyWithArgs("token",":"),625);$vars.n=this._appendStructure($r1,this._apply("name"),628);$r1.value=(function (){(this["locals"][$vars.n]=true);return [this._extractLocation($r1),"PopArg",$vars.n];}).call(this);return this._endStructure($r1);},function(){var $r1=this._startStructure(631);$vars.e=this._appendStructure($r1,this._or(function(){var $r2=this._startStructure(636);$vars.x=this._appendStructure($r2,this._apply("expr2"),639);$r2.value=this._appendStructure($r2,this._applyWithArgs("optIter",$vars.x),641);return this._endStructure($r2);},function(){return this._forwardStructure(this._apply("semAction"),644);}),634);$r1.value=this._appendStructure($r1,this._applyWithArgs("optBind",$vars.e),646);return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("semPred"),649);}),621);return this._endStructure($r0);},
"expr2":function(){var $elf=this,$vars={},$r0=this._startStructure(651, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(654);this._appendStructure($r1,this._applyWithArgs("token","~"),656);$vars.x=this._appendStructure($r1,this._apply("expr2"),659);$r1.value=[this._extractLocation($r1),"Not",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(662);this._appendStructure($r1,this._applyWithArgs("token","&"),664);$vars.x=this._appendStructure($r1,this._apply("expr1"),667);$r1.value=[this._extractLocation($r1),"Lookahead",$vars.x];return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("expr1"),670);}),652);return this._endStructure($r0);},
"expr1":function(){var $elf=this,$vars={},$r0=this._startStructure(672, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("application"),675);},function(){var $r1=this._startStructure(677);$vars.x=this._appendStructure($r1,this._or(function(){return this._forwardStructure(this._applyWithArgs("keyword","undefined"),682);},function(){return this._forwardStructure(this._applyWithArgs("keyword","nil"),685);},function(){return this._forwardStructure(this._applyWithArgs("keyword","true"),688);},function(){return this._forwardStructure(this._applyWithArgs("keyword","false"),691);}),680);$r1.value=[this._extractLocation($r1),"App","exactly",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(695);this._appendStructure($r1,this._apply("spaces"),697);$r1.value=this._appendStructure($r1,this._or(function(){return this._forwardStructure(this._apply("characters"),701);},function(){return this._forwardStructure(this._apply("sCharacters"),703);},function(){return this._forwardStructure(this._apply("string"),705);},function(){return this._forwardStructure(this._apply("number"),707);}),699);return this._endStructure($r1);},function(){var $r1=this._startStructure(709);this._appendStructure($r1,this._applyWithArgs("token","["),711);$vars.x=this._appendStructure($r1,this._apply("expr"),714);this._appendStructure($r1,this._applyWithArgs("token","]"),716);$r1.value=[this._extractLocation($r1),"Form",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(719);this._appendStructure($r1,this._applyWithArgs("token","<"),721);$vars.x=this._appendStructure($r1,this._apply("expr"),724);this._appendStructure($r1,this._applyWithArgs("token",">"),726);$r1.value=[this._extractLocation($r1),"ConsBy",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(729);this._appendStructure($r1,this._applyWithArgs("token","@<"),731);$vars.x=this._appendStructure($r1,this._apply("expr"),734);this._appendStructure($r1,this._applyWithArgs("token",">"),736);$r1.value=[this._extractLocation($r1),"IdxConsBy",$vars.x];return this._endStructure($r1);},function(){var $r1=this._startStructure(739);this._appendStructure($r1,this._applyWithArgs("token","("),741);$vars.x=this._appendStructure($r1,this._apply("expr"),744);this._appendStructure($r1,this._applyWithArgs("token",")"),746);$r1.value=$vars.x;return this._endStructure($r1);}),673);return this._endStructure($r0);},
"ruleName":function(){var $elf=this,$vars={},$r0=this._startStructure(749, true);$r0.value=this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("name"),752);},function(){var $r1=this._startStructure(754);this._appendStructure($r1,this._apply("spaces"),756);$r1.value=this._appendStructure($r1,this._apply("tsString"),758);return this._endStructure($r1);}),750);return this._endStructure($r0);},
"rule":function(){var $elf=this,$vars={},$r0=this._startStructure(760, true);this._appendStructure($r0,this._lookahead(function(){var $r1=this._startStructure(763);$r1.value=($vars.n=this._appendStructure($r1,this._apply("ruleName"),766));return this._endStructure($r1);}),762);(this["locals"]=({}));$vars.x=this._appendStructure($r0,this._applyWithArgs("rulePart",$vars.n),770);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(776);this._appendStructure($r1,this._applyWithArgs("token",","),778);$r1.value=this._appendStructure($r1,this._applyWithArgs("rulePart",$vars.n),780);return this._endStructure($r1);}),774);$r0.value=[this._extractLocation($r0),"Rule",$vars.n,[this._extractLocation($r0),"Or",$vars.x].concat($vars.xs)];return this._endStructure($r0);},
"rulePart":function(){var $elf=this,$vars={},$r0=this._startStructure(784, true);$vars.rn=this._getStructureValue(this.anything());$vars.n=this._appendStructure($r0,this._apply("ruleName"),788);this._pred(($vars.n == $vars.rn));$vars.b1=this._appendStructure($r0,this._applyWithArgs("expr4",false),793);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(798);this._appendStructure($r1,this._applyWithArgs("token","="),800);$vars.b2=this._appendStructure($r1,this._apply("expr"),803);$r1.value=[this._extractLocation($r1),"And",$vars.b1,$vars.b2];return this._endStructure($r1);},function(){var $r1=this._startStructure(806);this._appendStructure($r1,this._apply("empty"),808);$r1.value=$vars.b1;return this._endStructure($r1);}),796);return this._endStructure($r0);},
"grammar":function(){var $elf=this,$vars={},$r0=this._startStructure(811, true);this._appendStructure($r0,this._applyWithArgs("keyword","ometa"),813);$vars.sn=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(819);this._appendStructure($r1,this._applyWithArgs("token","("),821);$vars.sni=this._appendStructure($r1,this._apply("name"),824);this._appendStructure($r1,this._applyWithArgs("token",")"),826);$r1.value=$vars.sni;return this._endStructure($r1);},function(){var $r1=this._startStructure(829);this._appendStructure($r1,this._apply("empty"),831);$r1.value="OMeta";return this._endStructure($r1);}),817);this._appendStructure($r0,this._applyWithArgs("token","{"),834);$vars.rs=this._appendStructure($r0,this._applyWithArgs("enum","rule",","),837);this._appendStructure($r0,this._applyWithArgs("token","}"),841);$r0.value=["OMetaGrammar",$vars.sn,$vars.rs];return this._endStructure($r0);}});(BSOMetaParser["hexDigits"]="0123456789abcdef");let BSSemActionTranslator=objectThatDelegatesTo(BSJSTranslator,{
"Location":function(){var $elf=this,$vars={},$r0=this._startStructure(845, true);$r0.value=["this._extractLocation($r",this["_storeVal"],")"].join("");return this._endStructure($r0);},
"get":function(){var $elf=this,$vars={},$r0=this._startStructure(847, true);$vars.n=this._getStructureValue(this.anything());$r0.value=this._renameVariable($vars.n);return this._endStructure($r0);},
"name":function(){var $elf=this,$vars={},$r0=this._startStructure(851, true);$vars.n=this._getStructureValue(this.anything());$r0.value=this._renameVariable($vars.n);return this._endStructure($r0);},
"jstrans":function(){var $elf=this,$vars={},$r0=this._startStructure(855, true);$vars.storeVal=this._getStructureValue(this.anything());$vars.toRename=this._getStructureValue(this.anything());(function (){(this["_storeVal"]=$vars.storeVal);return (this["_toRename"]=$vars.toRename);}).call(this);$r0.value=this._appendStructure($r0,this._apply("trans"),860);return this._endStructure($r0);}});(BSSemActionTranslator["_renameVariable"]=(function (name){if(((name != "$elf") && this["_toRename"][name])){return ("$vars." + name);}else{undefined;}return name;}));let BSOMetaTranslator=objectThatDelegatesTo(OMeta,{
"App":function(){var $elf=this,$vars={},$r0=this._startStructure(863, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(866);this._appendStructure($r1,this.exactly("super"),868);$vars.args=this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("transFn"),873);}),871);$r1.value=[this["sName"],"._superApplyWithArgs(this,",$vars.args.join(","),")"].join("");return this._endStructure($r1);},function(){var $r1=this._startStructure(876);$vars.rule=this._getStructureValue(this.anything());$vars.args=this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("transFn"),882);}),880);$r1.value=this._appendStructure($r1,this._or(function(){var $r2=this._startStructure(886);this._pred(this._optimizedCall($vars.rule,$vars.args));$r2.value=["this.",this["_callables"][$vars.rule]["name"],"(",$vars.args.join(","),")"].join("");return this._endStructure($r2);},function(){var $r2=this._startStructure(891);this._pred(($vars.args["length"] < (1)));$r2.value=["this._apply(\"",$vars.rule,"\")"].join("");return this._endStructure($r2);},function(){var $r2=this._startStructure(885);$r2.value=["this._applyWithArgs(\"",$vars.rule,"\",",$vars.args.join(","),")"].join("");return this._endStructure($r2);}),884);return this._endStructure($r1);}),864);return this._endStructure($r0);},
"Pred":function(){var $elf=this,$vars={},$r0=this._startStructure(897, true);$vars.expr=this._appendStructure($r0,this._apply("transFn"),900);$r0.value=["this._pred(",$vars.expr,")"].join("");return this._endStructure($r0);},
"Or":function(){var $elf=this,$vars={},$r0=this._startStructure(903, true);$vars.xs=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("transFn"),908);}),906);$r0.value=["this._or(",$vars.xs.join(","),")"].join("");return this._endStructure($r0);},
"XOr":function(){var $elf=this,$vars={},$r0=this._startStructure(911, true);$vars.xs=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("transFn"),916);}),914);$vars.xs.unshift(this["rName"].toProgramString());$r0.value=["this._xor(",$vars.xs.join(","),")"].join("");return this._endStructure($r0);},
"And":function(){var $elf=this,$vars={},$r0=this._startStructure(920, true);$r0.value=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(923);$vars.xs=this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("transFn"),928);}),926);$r1.value=$vars.xs.join(";");return this._endStructure($r1);},function(){var $r1=this._startStructure(922);$r1.value="undefined";return this._endStructure($r1);}),921);return this._endStructure($r0);},
"Opt":function(){var $elf=this,$vars={},$r0=this._startStructure(932, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),935);$r0.value=["this._opt(",$vars.x,")"].join("");return this._endStructure($r0);},
"Many":function(){var $elf=this,$vars={},$r0=this._startStructure(938, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),941);$r0.value=["this._many(",$vars.x,")"].join("");return this._endStructure($r0);},
"Many1":function(){var $elf=this,$vars={},$r0=this._startStructure(944, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),947);$r0.value=["this._many1(",$vars.x,")"].join("");return this._endStructure($r0);},
"Set":function(){var $elf=this,$vars={},$r0=this._startStructure(950, true);$vars.n=this._getStructureValue(this.anything());$vars.v=this._appendStructure($r0,this._apply("transFn"),954);$r0.value=["$vars.",$vars.n,"=",$vars.v].join("");return this._endStructure($r0);},
"Not":function(){var $elf=this,$vars={},$r0=this._startStructure(957, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),960);$r0.value=["this._not(",$vars.x,")"].join("");return this._endStructure($r0);},
"Lookahead":function(){var $elf=this,$vars={},$r0=this._startStructure(963, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),966);$r0.value=["this._lookahead(",$vars.x,")"].join("");return this._endStructure($r0);},
"Form":function(){var $elf=this,$vars={},$r0=this._startStructure(969, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),972);$r0.value=["this._form(",$vars.x,")"].join("");return this._endStructure($r0);},
"ConsBy":function(){var $elf=this,$vars={},$r0=this._startStructure(975, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),978);$r0.value=["this._consumedBy(",$vars.x,")"].join("");return this._endStructure($r0);},
"IdxConsBy":function(){var $elf=this,$vars={},$r0=this._startStructure(981, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),984);$r0.value=["this._idxConsumedBy(",$vars.x,")"].join("");return this._endStructure($r0);},
"JumpTable":function(){var $elf=this,$vars={},$r0=this._startStructure(987, true);this["_storeVar"]++;$vars.cases=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("jtCase"),993);}),991);this["_storeVar"]--;$r0.value=this.jumpTableCode($vars.cases);return this._endStructure($r0);},
"Interleave":function(){var $elf=this,$vars={},$r0=this._startStructure(997, true);$vars.xs=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("intPart"),1002);}),1000);$r0.value=["this._interleave(",$vars.xs.join(","),")"].join("");return this._endStructure($r0);},
"Function":function(){var $elf=this,$vars={},$r0=this._startStructure(1005, true);this["_storeVar"]++;$vars.x=this._appendStructure($r0,this._apply("transFn"),1009);this["_storeVar"]--;$r0.value=["function(){",$vars.x,";}"].join("");return this._endStructure($r0);},
"FunctionStructure":function(){var $elf=this,$vars={},$r0=this._startStructure(1013, true);this["_storeVar"]++;$vars.xs=this._appendStructure($r0,this._many1(function(){return this._forwardStructure(this._apply("transFn"),1019);}),1017);this["_storeVar"]--;$r0.value=["function(){var $r",(this["_storeVar"] + (1)),"=this._startStructure(",this.getLocationId(),");",$vars.xs.join(";"),";return this._endStructure($r",(this["_storeVar"] + (1)),");}"].join("");return this._endStructure($r0);},
"SetReturn":function(){var $elf=this,$vars={},$r0=this._startStructure(1023, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1026);$r0.value=["$r",this["_storeVar"],".value=",$vars.x].join("");return this._endStructure($r0);},
"Return":function(){var $elf=this,$vars={},$r0=this._startStructure(1029, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1032);$r0.value=["return this._forwardStructure(",$vars.x,",",this.getLocationId(),")"].join("");return this._endStructure($r0);},
"Parenthesis":function(){var $elf=this,$vars={},$r0=this._startStructure(1035, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1038);$r0.value=["(",$vars.x,")"].join("");return this._endStructure($r0);},
"Store":function(){var $elf=this,$vars={},$r0=this._startStructure(1041, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1044);$r0.value=["this._appendStructure($r",this["_storeVar"],",",$vars.x,",",this.getLocationId(),")"].join("");return this._endStructure($r0);},
"Js":function(){var $elf=this,$vars={},$r0=this._startStructure(1047, true);$vars.locals=this._getStructureValue(this.anything());$r0.value=this._appendStructure($r0,this._applyWithArgs("transJs",$vars.locals),1050);return this._endStructure($r0);},
"PopArg":function(){var $elf=this,$vars={},$r0=this._startStructure(1053, true);$vars.n=this._getStructureValue(this.anything());$r0.value=["$vars.",$vars.n,"=this._getStructureValue(this.anything())"].join("");return this._endStructure($r0);},
"Rule":function(){var $elf=this,$vars={},$r0=this._startStructure(1057, true);$vars.name=this._getStructureValue(this.anything());(function (){(this["rName"]=$vars.name);return (this["_storeVar"]=(0));}).call(this);$vars.body=this._appendStructure($r0,this._apply("trans"),1062);$r0.value=["\n\"",$vars.name,"\":function(){var $elf=this,","$vars={},","$r0=this._startStructure(",this.getLocationId(),", true);",$vars.body,";return this._endStructure($r0);}"].join("");return this._endStructure($r0);},
"Grammar":function(){var $elf=this,$vars={},$r0=this._startStructure(1065, true);$vars.sName=this._getStructureValue(this.anything());(this["sName"]=$vars.sName);$vars.rules=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("trans"),1072);}),1070);$r0.value=["objectThatDelegatesTo(",$vars.sName,",{",$vars.rules.join(","),"})"].join("");return this._endStructure($r0);},
"intPart":function(){var $elf=this,$vars={},$r0=this._startStructure(1075, true);this._appendStructure($r0,this._form(function(){var $r1=this._startStructure(1079);$vars.mode=this._getStructureValue(this.anything());$r1.value=($vars.part=this._appendStructure($r1,this._apply("transFn"),1084));return this._endStructure($r1);}),1077);$r0.value=(($vars.mode.toProgramString() + ",") + $vars.part);return this._endStructure($r0);},
"jtCase":function(){var $elf=this,$vars={},$r0=this._startStructure(1087, true);this._appendStructure($r0,this._form(function(){var $r1=this._startStructure(1091);$vars.x=this._getStructureValue(this.anything());$r1.value=($vars.e=this._appendStructure($r1,this._apply("trans"),1096));return this._endStructure($r1);}),1089);$r0.value=[$vars.x.toProgramString(),$vars.e];return this._endStructure($r0);},
"transJs":function(){var $elf=this,$vars={},$r0=this._startStructure(1099, true);$vars.locals=this._getStructureValue(this.anything());$r0.value=this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionTranslator,"jstrans",this["_storeVar"],$vars.locals),1102);return this._endStructure($r0);},
"trans":function(){var $elf=this,$vars={},$r0=this._startStructure(1107, true);this._appendStructure($r0,this._form(function(){var $r1=this._startStructure(1111);$vars.loc=this._getStructureValue(this.anything());$vars.t=this._getStructureValue(this.anything());this.pushLocation($vars.loc);$vars.ans=this._appendStructure($r1,this._apply($vars.t),1117);$r1.value=this.popLocation();return this._endStructure($r1);}),1109);$r0.value=$vars.ans;return this._endStructure($r0);},
"transFn":function(){var $elf=this,$vars={},$r0=this._startStructure(1122, true);$vars.x=this._appendStructure($r0,this._apply("trans"),1125);$r0.value=$vars.x;return this._endStructure($r0);}});(BSOMetaTranslator["_callables"]=({"anything": ({"name": "anything","nbArgs": (0)}),"apply": ({"name": "_apply","nbArgs": (1)}),"end": ({"name": "end","nbArgs": (0)}),"exactly": ({"name": "exactly","nbArgs": (1)}),"seq": ({"name": "seq","nbArgs": (1)})}));(BSOMetaTranslator["_optimizedCall"]=(function (rule,args){let c=this["_callables"][rule];return (c && (c["nbArgs"] == args["length"]));}));(BSOMetaTranslator["jumpTableCode"]=(function (cases){var buf=new StringBuffer();buf.nextPutAll((("(function(){var $r" + (this["_storeVar"] + (1))) + "=this._startStructure(-1);"));buf.nextPutAll((("switch(this._appendStructure($r" + (this["_storeVar"] + (1))) + ",this._apply(\'anything\'))){"));for(var i=(0);(i < cases["length"]);(i+=(1))){buf.nextPutAll((((("case " + cases[i][(0)]) + ":") + cases[i][(1)]) + ";break;"));}buf.nextPutAll((("default: throw fail}return this._endStructure($r" + (this["_storeVar"] + (1))) + ");}).call(this)"));return buf.contents();}));(BSOMetaTranslator["pushLocation"]=(function (location){if((location != null)){let locationId=createSourceMapId();addToSourseMap(locationId,location["start"],location["stop"]);this["_locations"].push(locationId);}else{this["_locations"].push(this["_locations"][(this["_locations"]["length"] - (1))]);};}));(BSOMetaTranslator["popLocation"]=(function (){this["_locations"].pop();}));(BSOMetaTranslator["getLocationId"]=(function (){return this["_locations"][(this["_locations"]["length"] - (1))];}));(BSOMetaTranslator["initialize"]=(function (){(this["_locations"]=[]);}))


// This file was generated using Gnometa
// https://github.com/djdeath/gnometa
let BSSemActionParser=objectThatDelegatesTo(BSJSParser,{
"jsOmetaKeyword":function(){var $elf=this,$vars={},$r0=this._startStructure(1, true);$vars.k=this.anything();this._appendStructure($r0,this._apply("spaces"),4);this._appendStructure($r0,this.exactly("@"),6);$vars.n=this._appendStructure($r0,this._apply("iName"),9);$r0.value=this._pred(($vars.k.value == $vars.n.value));$r0.value=$vars.k.value;return this._endStructure($r0);},
"primExprHd":function(){var $elf=this,$vars={},$r0=this._startStructure(16, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(19);this._appendStructure($r1,this._applyWithArgs("jsOmetaKeyword","location"),21);$r1.value=["Location"];return this._endStructure($r1);},function(){return this._forwardStructure(BSJSParser._superApplyWithArgs(this,"primExprHd"),26);}),17);return this._endStructure($r0);},
"curlySemAction":function(){var $elf=this,$vars={},$r0=this._startStructure(28, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(31);this._appendStructure($r1,this._applyWithArgs("token","{"),33);$vars.r=this._appendStructure($r1,this._apply("expr"),36);this._appendStructure($r1,this._apply("sc"),38);this._appendStructure($r1,this._applyWithArgs("token","}"),40);$r1.value=$vars.r.value;return this._endStructure($r1);},function(){var $r1=this._startStructure(44);this._appendStructure($r1,this._applyWithArgs("token","{"),46);$vars.ss=this._appendStructure($r1,this._many(function(){var $r2=this._startStructure(51);$vars.s=this._appendStructure($r2,this._apply("srcElem"),54);this._appendStructure($r2,this._lookahead(function(){return this._forwardStructure(this._apply("srcElem"),58);}),56);$r2.value=$vars.s.value;return this._endStructure($r2);}),49);$vars.s=this._appendStructure($r1,this._or(function(){var $r2=this._startStructure(65);$vars.r=this._appendStructure($r2,this._apply("expr"),68);this._appendStructure($r2,this._apply("sc"),70);$r2.value=["return",$vars.r.value];return this._endStructure($r2);},function(){return this._forwardStructure(this._apply("srcElem"),74);}),63);$r1.value=$vars.ss.value.push($vars.s.value);this._appendStructure($r1,this._applyWithArgs("token","}"),78);$r1.value=["send","call",["func",[],["begin"].concat($vars.ss.value)],["this"]];return this._endStructure($r1);}),29);return this._endStructure($r0);},
"semAction":function(){var $elf=this,$vars={},$r0=this._startStructure(82, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("curlySemAction"),85);},function(){var $r1=this._startStructure(87);$vars.r=this._appendStructure($r1,this._apply("primExpr"),90);this._appendStructure($r1,this._apply("spaces"),92);$r1.value=$vars.r.value;return this._endStructure($r1);}),83);return this._endStructure($r0);}});let BSOMetaParser=objectThatDelegatesTo(BaseStrParser,{
"space":function(){var $elf=this,$vars={},$r0=this._startStructure(97, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(BaseStrParser._superApplyWithArgs(this,"space"),100);},function(){return this._forwardStructure(this._applyWithArgs("fromTo","//","\n"),102);},function(){return this._forwardStructure(this._applyWithArgs("fromTo","/*","*/"),106);}),98);return this._endStructure($r0);},
"nameFirst":function(){var $elf=this,$vars={},$r0=this._startStructure(110, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(this.exactly("_"),113);},function(){return this._forwardStructure(this.exactly("$"),115);},function(){return this._forwardStructure(this._apply("letter"),117);}),111);return this._endStructure($r0);},
"nameRest":function(){var $elf=this,$vars={},$r0=this._startStructure(119, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("nameFirst"),122);},function(){return this._forwardStructure(this._apply("digit"),124);}),120);return this._endStructure($r0);},
"tsName":function(){var $elf=this,$vars={},$r0=this._startStructure(126, true);this._appendStructure($r0,this._consumedBy(function(){var $r1=this._startStructure(129);this._appendStructure($r1,this._apply("nameFirst"),131);this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("nameRest"),135);}),133);return this._endStructure($r1);}),127);return this._endStructure($r0);},
"name":function(){var $elf=this,$vars={},$r0=this._startStructure(137, true);this._appendStructure($r0,this._apply("spaces"),139);this._appendStructure($r0,this._apply("tsName"),141);return this._endStructure($r0);},
"hexDigit":function(){var $elf=this,$vars={},$r0=this._startStructure(143, true);$vars.x=this._appendStructure($r0,this._apply("char"),146);$vars.v=this._generateStructure($r0,this["hexDigits"].indexOf($vars.x.value.toLowerCase()),149);$r0.value=this._pred(($vars.v.value >= (0)));$r0.value=$vars.v.value;return this._endStructure($r0);},
"eChar":function(){var $elf=this,$vars={},$r0=this._startStructure(156, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(159);$vars.s=this._appendStructure($r1,this._consumedBy(function(){var $r2=this._startStructure(164);this._appendStructure($r2,this.exactly("\\"),166);this._appendStructure($r2,this._or(function(){var $r3=this._startStructure(170);this._appendStructure($r3,this.exactly("u"),172);this._appendStructure($r3,this._apply("hexDigit"),174);this._appendStructure($r3,this._apply("hexDigit"),176);this._appendStructure($r3,this._apply("hexDigit"),178);this._appendStructure($r3,this._apply("hexDigit"),180);return this._endStructure($r3);},function(){var $r3=this._startStructure(182);this._appendStructure($r3,this.exactly("x"),184);this._appendStructure($r3,this._apply("hexDigit"),186);this._appendStructure($r3,this._apply("hexDigit"),188);return this._endStructure($r3);},function(){return this._forwardStructure(this._apply("char"),190);}),168);return this._endStructure($r2);}),162);$r1.value=unescape($vars.s.value);return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("char"),194);}),157);return this._endStructure($r0);},
"tsString":function(){var $elf=this,$vars={},$r0=this._startStructure(196, true);this._appendStructure($r0,this.exactly("\'"),198);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(203);this._appendStructure($r1,this._not(function(){return this._forwardStructure(this.exactly("\'"),207);}),205);this._appendStructure($r1,this._apply("eChar"),209);return this._endStructure($r1);}),201);this._appendStructure($r0,this.exactly("\'"),211);$r0.value=$vars.xs.value.join("");return this._endStructure($r0);},
"characters":function(){var $elf=this,$vars={},$r0=this._startStructure(215, true);this._appendStructure($r0,this.exactly("`"),217);this._appendStructure($r0,this.exactly("`"),219);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(224);this._appendStructure($r1,this._not(function(){var $r2=this._startStructure(228);this._appendStructure($r2,this.exactly("\'"),230);this._appendStructure($r2,this.exactly("\'"),232);return this._endStructure($r2);}),226);this._appendStructure($r1,this._apply("eChar"),234);return this._endStructure($r1);}),222);this._appendStructure($r0,this.exactly("\'"),236);this._appendStructure($r0,this.exactly("\'"),238);$r0.value=[this._extractLocation($r0),"App","seq",jsValue("string",$vars.xs.value.join(""))];return this._endStructure($r0);},
"sCharacters":function(){var $elf=this,$vars={},$r0=this._startStructure(242, true);this._appendStructure($r0,this.exactly("\""),244);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(249);this._appendStructure($r1,this._not(function(){return this._forwardStructure(this.exactly("\""),253);}),251);this._appendStructure($r1,this._apply("eChar"),255);return this._endStructure($r1);}),247);this._appendStructure($r0,this.exactly("\""),257);$r0.value=[this._extractLocation($r0),"App","token",jsValue("string",$vars.xs.value.join(""))];return this._endStructure($r0);},
"string":function(){var $elf=this,$vars={},$r0=this._startStructure(261, true);$vars.xs=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(266);this._appendStructure($r1,this._or(function(){return this._forwardStructure(this.exactly("#"),270);},function(){return this._forwardStructure(this.exactly("`"),272);}),268);this._appendStructure($r1,this._apply("tsName"),274);return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("tsString"),276);}),264);$r0.value=[this._extractLocation($r0),"App","exactly",jsValue("string",$vars.xs.value)];return this._endStructure($r0);},
"number":function(){var $elf=this,$vars={},$r0=this._startStructure(280, true);$vars.n=this._appendStructure($r0,this._consumedBy(function(){var $r1=this._startStructure(285);this._appendStructure($r1,this._opt(function(){return this._forwardStructure(this.exactly("-"),289);}),287);this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("digit"),293);}),291);return this._endStructure($r1);}),283);$r0.value=[this._extractLocation($r0),"App","exactly",jsValue("number",$vars.n.value)];return this._endStructure($r0);},
"keyword":function(){var $elf=this,$vars={},$r0=this._startStructure(297, true);$vars.xs=this.anything();this._appendStructure($r0,this._applyWithArgs("token",$vars.xs.value),300);this._appendStructure($r0,this._not(function(){return this._forwardStructure(this._apply("letterOrDigit"),305);}),303);$r0.value=$vars.xs.value;return this._endStructure($r0);},
"args":function(){var $elf=this,$vars={},$r0=this._startStructure(309, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(312);this._appendStructure($r1,this.exactly("("),314);$vars.xs=this._appendStructure($r1,this._applyWithArgs("listOf","hostExpr",","),317);this._appendStructure($r1,this._applyWithArgs("token",")"),321);$r1.value=$vars.xs.value;return this._endStructure($r1);},function(){var $r1=this._startStructure(325);this._appendStructure($r1,this._apply("empty"),327);$r1.value=[];return this._endStructure($r1);}),310);return this._endStructure($r0);},
"application":function(){var $elf=this,$vars={},$r0=this._startStructure(331, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(334);this._appendStructure($r1,this._applyWithArgs("token","^"),336);$vars.rule=this._appendStructure($r1,this._apply("name"),339);$vars.as=this._appendStructure($r1,this._apply("args"),342);$r1.value=[this._extractLocation($r1),"App","super",jsValue("string",$vars.rule.value)].concat($vars.as.value);return this._endStructure($r1);},function(){var $r1=this._startStructure(346);$vars.grm=this._appendStructure($r1,this._apply("name"),349);this._appendStructure($r1,this._applyWithArgs("token","."),351);$vars.rule=this._appendStructure($r1,this._apply("name"),354);$vars.as=this._appendStructure($r1,this._apply("args"),357);$r1.value=[this._extractLocation($r1),"App","foreign",jsCode(this._extractLocation($r1),this["locals"],["get",$vars.grm.value]),jsValue("string",$vars.rule.value)].concat($vars.as.value);return this._endStructure($r1);},function(){var $r1=this._startStructure(361);$vars.rule=this._appendStructure($r1,this._apply("name"),364);$vars.as=this._appendStructure($r1,this._apply("args"),367);$r1.value=[this._extractLocation($r1),"App",$vars.rule.value].concat($vars.as.value);return this._endStructure($r1);}),332);return this._endStructure($r0);},
"hostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(371, true);$vars.r=this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionParser,"expr"),374);$r0.value=jsCode(this._extractLocation($r0),this["locals"],$vars.r.value);return this._endStructure($r0);},
"curlyHostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(379, true);$vars.r=this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionParser,"curlySemAction"),382);$r0.value=jsCode(this._extractLocation($r0),this["locals"],$vars.r.value);return this._endStructure($r0);},
"primHostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(387, true);$vars.r=this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionParser,"semAction"),390);$r0.value=jsCode(this._extractLocation($r0),this["locals"],$vars.r.value);return this._endStructure($r0);},
"atomicHostExpr":function(){var $elf=this,$vars={},$r0=this._startStructure(395, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("curlyHostExpr"),398);},function(){return this._forwardStructure(this._apply("primHostExpr"),400);}),396);return this._endStructure($r0);},
"semAction":function(){var $elf=this,$vars={},$r0=this._startStructure(402, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("curlyHostExpr"),405);},function(){var $r1=this._startStructure(407);this._appendStructure($r1,this._applyWithArgs("token","!"),409);this._appendStructure($r1,this._apply("atomicHostExpr"),411);return this._endStructure($r1);}),403);return this._endStructure($r0);},
"arrSemAction":function(){var $elf=this,$vars={},$r0=this._startStructure(413, true);this._appendStructure($r0,this._applyWithArgs("token","->"),415);this._appendStructure($r0,this._apply("atomicHostExpr"),417);return this._endStructure($r0);},
"semPred":function(){var $elf=this,$vars={},$r0=this._startStructure(419, true);this._appendStructure($r0,this._applyWithArgs("token","?"),421);$vars.x=this._appendStructure($r0,this._apply("atomicHostExpr"),424);$r0.value=[this._extractLocation($r0),"Pred",$vars.x.value];return this._endStructure($r0);},
"expr":function(){var $elf=this,$vars={},$r0=this._startStructure(428, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(431);$vars.x=this._appendStructure($r1,this._applyWithArgs("expr5",true),434);$vars.xs=this._appendStructure($r1,this._many1(function(){var $r2=this._startStructure(440);this._appendStructure($r2,this._applyWithArgs("token","|"),442);this._appendStructure($r2,this._applyWithArgs("expr5",true),444);return this._endStructure($r2);}),438);$r1.value=[this._extractLocation($r1),"Or",$vars.x.value].concat($vars.xs.value);return this._endStructure($r1);},function(){var $r1=this._startStructure(449);$vars.x=this._appendStructure($r1,this._applyWithArgs("expr5",true),452);$vars.xs=this._appendStructure($r1,this._many1(function(){var $r2=this._startStructure(458);this._appendStructure($r2,this._applyWithArgs("token","||"),460);this._appendStructure($r2,this._applyWithArgs("expr5",true),462);return this._endStructure($r2);}),456);$r1.value=[this._extractLocation($r1),"XOr",$vars.x.value].concat($vars.xs.value);return this._endStructure($r1);},function(){return this._forwardStructure(this._applyWithArgs("expr5",false),467);}),429);return this._endStructure($r0);},
"expr5":function(){var $elf=this,$vars={},$r0=this._startStructure(470, true);$vars.ne=this.anything();this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(475);$vars.x=this._appendStructure($r1,this._apply("interleavePart"),478);$vars.xs=this._appendStructure($r1,this._many1(function(){var $r2=this._startStructure(483);this._appendStructure($r2,this._applyWithArgs("token","&&"),485);this._appendStructure($r2,this._apply("interleavePart"),487);return this._endStructure($r2);}),481);$r1.value=[this._extractLocation($r1),"Interleave",$vars.x.value].concat($vars.xs.value);return this._endStructure($r1);},function(){return this._forwardStructure(this._applyWithArgs("expr4",$vars.ne.value),491);}),473);return this._endStructure($r0);},
"interleavePart":function(){var $elf=this,$vars={},$r0=this._startStructure(494, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(497);this._appendStructure($r1,this._applyWithArgs("token","("),499);$vars.part=this._appendStructure($r1,this._applyWithArgs("expr4",true),502);this._appendStructure($r1,this._applyWithArgs("token",")"),505);$r1.value=["1",$vars.part.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(509);$vars.part=this._appendStructure($r1,this._applyWithArgs("expr4",true),512);this._appendStructure($r1,this._applyWithArgs("modedIPart",$vars.part.value),515);return this._endStructure($r1);}),495);return this._endStructure($r0);},
"modedIPart":function(){var $elf=this,$vars={},$r0=this._startStructure(518, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(521);this._appendStructure($r1,this._form(function(){var $r2=this._startStructure(525);this._appendStructure($r2,this.exactly("And"),527);this._appendStructure($r2,this._form(function(){var $r3=this._startStructure(531);this._appendStructure($r3,this.exactly("Many"),533);$vars.part=this.anything();return this._endStructure($r3);}),529);return this._endStructure($r2);}),523);$r1.value=["*",$vars.part.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(538);this._appendStructure($r1,this._form(function(){var $r2=this._startStructure(542);this._appendStructure($r2,this.exactly("And"),544);this._appendStructure($r2,this._form(function(){var $r3=this._startStructure(548);this._appendStructure($r3,this.exactly("Many1"),550);$vars.part=this.anything();return this._endStructure($r3);}),546);return this._endStructure($r2);}),540);$r1.value=["+",$vars.part.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(555);this._appendStructure($r1,this._form(function(){var $r2=this._startStructure(559);this._appendStructure($r2,this.exactly("And"),561);this._appendStructure($r2,this._form(function(){var $r3=this._startStructure(565);this._appendStructure($r3,this.exactly("Opt"),567);$vars.part=this.anything();return this._endStructure($r3);}),563);return this._endStructure($r2);}),557);$r1.value=["?",$vars.part.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(572);$vars.part=this.anything();$r1.value=["1",$vars.part.value];return this._endStructure($r1);}),519);return this._endStructure($r0);},
"expr4":function(){var $elf=this,$vars={},$r0=this._startStructure(577, true);$vars.ne=this.anything();this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(582);$vars.xs=this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("expr3"),587);}),585);$vars.act=this._appendStructure($r1,this._apply("arrSemAction"),590);$r1.value=[this._extractLocation($r1),"And"].concat($vars.xs.value).concat([$vars.act.value]);return this._endStructure($r1);},function(){var $r1=this._startStructure(594);$r1.value=this._pred($vars.ne.value);$vars.xs=this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("expr3"),602);}),600);$r1.value=[this._extractLocation($r1),"And"].concat($vars.xs.value);return this._endStructure($r1);},function(){var $r1=this._startStructure(606);$r1.value=this._pred(($vars.ne.value == false));$vars.xs=this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("expr3"),614);}),612);$r1.value=[this._extractLocation($r1),"And"].concat($vars.xs.value);return this._endStructure($r1);}),580);return this._endStructure($r0);},
"optIter":function(){var $elf=this,$vars={},$r0=this._startStructure(618, true);$vars.x=this.anything();this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(623);this._appendStructure($r1,this.exactly("*"),625);$r1.value=[mergeLocation(this._extractLocation($r1),$vars.x.value[(0)]),"Many",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(629);this._appendStructure($r1,this.exactly("+"),631);$r1.value=[mergeLocation(this._extractLocation($r1),$vars.x.value[(0)]),"Many1",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(635);this._appendStructure($r1,this.exactly("?"),637);$r1.value=[mergeLocation(this._extractLocation($r1),$vars.x.value[(0)]),"Opt",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(641);this._appendStructure($r1,this._apply("empty"),643);$r1.value=$vars.x.value;return this._endStructure($r1);}),621);return this._endStructure($r0);},
"optBind":function(){var $elf=this,$vars={},$r0=this._startStructure(647, true);$vars.x=this.anything();this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(652);this._appendStructure($r1,this.exactly(":"),654);$vars.n=this._appendStructure($r1,this._apply("name"),657);$r1.value=(function (){(this["locals"][$vars.n.value]=true);return [mergeLocation(this._extractLocation($r1),$vars.x.value[(0)]),"Set",$vars.n.value,$vars.x.value];}).call(this);return this._endStructure($r1);},function(){var $r1=this._startStructure(661);this._appendStructure($r1,this._apply("empty"),663);$r1.value=$vars.x.value;return this._endStructure($r1);}),650);return this._endStructure($r0);},
"expr3":function(){var $elf=this,$vars={},$r0=this._startStructure(667, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(670);this._appendStructure($r1,this._applyWithArgs("token",":"),672);$vars.n=this._appendStructure($r1,this._apply("name"),675);$r1.value=(function (){(this["locals"][$vars.n.value]=true);return [this._extractLocation($r1),"PopArg",$vars.n.value];}).call(this);return this._endStructure($r1);},function(){var $r1=this._startStructure(679);$vars.e=this._appendStructure($r1,this._or(function(){var $r2=this._startStructure(684);$vars.x=this._appendStructure($r2,this._apply("expr2"),687);this._appendStructure($r2,this._applyWithArgs("optIter",$vars.x.value),689);return this._endStructure($r2);},function(){return this._forwardStructure(this._apply("semAction"),692);}),682);this._appendStructure($r1,this._applyWithArgs("optBind",$vars.e.value),694);return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("semPred"),697);}),668);return this._endStructure($r0);},
"expr2":function(){var $elf=this,$vars={},$r0=this._startStructure(699, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(702);this._appendStructure($r1,this._applyWithArgs("token","~"),704);$vars.x=this._appendStructure($r1,this._apply("expr2"),707);$r1.value=[this._extractLocation($r1),"Not",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(711);this._appendStructure($r1,this._applyWithArgs("token","&"),713);$vars.x=this._appendStructure($r1,this._apply("expr1"),716);$r1.value=[this._extractLocation($r1),"Lookahead",$vars.x.value];return this._endStructure($r1);},function(){return this._forwardStructure(this._apply("expr1"),720);}),700);return this._endStructure($r0);},
"expr1":function(){var $elf=this,$vars={},$r0=this._startStructure(722, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("application"),725);},function(){var $r1=this._startStructure(727);$vars.x=this._appendStructure($r1,this._or(function(){return this._forwardStructure(this._applyWithArgs("keyword","undefined"),732);},function(){return this._forwardStructure(this._applyWithArgs("keyword","nil"),735);},function(){return this._forwardStructure(this._applyWithArgs("keyword","true"),738);},function(){return this._forwardStructure(this._applyWithArgs("keyword","false"),741);}),730);$r1.value=[this._extractLocation($r1),"App","exactly",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(746);this._appendStructure($r1,this._apply("spaces"),748);this._appendStructure($r1,this._or(function(){return this._forwardStructure(this._apply("characters"),752);},function(){return this._forwardStructure(this._apply("sCharacters"),754);},function(){return this._forwardStructure(this._apply("string"),756);},function(){return this._forwardStructure(this._apply("number"),758);}),750);return this._endStructure($r1);},function(){var $r1=this._startStructure(760);this._appendStructure($r1,this._applyWithArgs("token","["),762);$vars.x=this._appendStructure($r1,this._apply("expr"),765);this._appendStructure($r1,this._applyWithArgs("token","]"),767);$r1.value=[this._extractLocation($r1),"Form",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(771);this._appendStructure($r1,this._applyWithArgs("token","<"),773);$vars.x=this._appendStructure($r1,this._apply("expr"),776);this._appendStructure($r1,this._applyWithArgs("token",">"),778);$r1.value=[this._extractLocation($r1),"ConsBy",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(782);this._appendStructure($r1,this._applyWithArgs("token","@<"),784);$vars.x=this._appendStructure($r1,this._apply("expr"),787);this._appendStructure($r1,this._applyWithArgs("token",">"),789);$r1.value=[this._extractLocation($r1),"IdxConsBy",$vars.x.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(793);this._appendStructure($r1,this._applyWithArgs("token","("),795);$vars.x=this._appendStructure($r1,this._apply("expr"),798);this._appendStructure($r1,this._applyWithArgs("token",")"),800);$r1.value=$vars.x.value;return this._endStructure($r1);}),723);return this._endStructure($r0);},
"ruleName":function(){var $elf=this,$vars={},$r0=this._startStructure(804, true);this._appendStructure($r0,this._or(function(){return this._forwardStructure(this._apply("name"),807);},function(){var $r1=this._startStructure(809);this._appendStructure($r1,this._apply("spaces"),811);this._appendStructure($r1,this._apply("tsString"),813);return this._endStructure($r1);}),805);return this._endStructure($r0);},
"rule":function(){var $elf=this,$vars={},$r0=this._startStructure(815, true);this._appendStructure($r0,this._lookahead(function(){return this._forwardStructure($vars.n=this._appendStructure($r0,this._apply("ruleName"),821),819);}),817);$r0.value=(this["locals"]=({}));$vars.x=this._appendStructure($r0,this._applyWithArgs("rulePart",$vars.n.value),826);$vars.xs=this._appendStructure($r0,this._many(function(){var $r1=this._startStructure(832);this._appendStructure($r1,this._applyWithArgs("token",","),834);this._appendStructure($r1,this._applyWithArgs("rulePart",$vars.n.value),836);return this._endStructure($r1);}),830);$r0.value=[this._extractLocation($r0),"Rule",$vars.n.value,[this._extractLocation($r0),"Or",$vars.x.value].concat($vars.xs.value)];return this._endStructure($r0);},
"rulePart":function(){var $elf=this,$vars={},$r0=this._startStructure(841, true);$vars.rn=this.anything();$vars.n=this._appendStructure($r0,this._apply("ruleName"),845);$r0.value=this._pred(($vars.n.value == $vars.rn.value));$vars.b1=this._appendStructure($r0,this._applyWithArgs("expr4",false),851);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(856);this._appendStructure($r1,this._applyWithArgs("token","="),858);$vars.b2=this._appendStructure($r1,this._apply("expr"),861);$r1.value=[this._extractLocation($r1),"And",$vars.b1.value,$vars.b2.value];return this._endStructure($r1);},function(){var $r1=this._startStructure(865);this._appendStructure($r1,this._apply("empty"),867);$r1.value=$vars.b1.value;return this._endStructure($r1);}),854);return this._endStructure($r0);},
"grammar":function(){var $elf=this,$vars={},$r0=this._startStructure(871, true);this._appendStructure($r0,this._applyWithArgs("keyword","ometa"),873);$vars.sn=this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(879);this._appendStructure($r1,this._applyWithArgs("token","("),881);$vars.sni=this._appendStructure($r1,this._apply("name"),884);this._appendStructure($r1,this._applyWithArgs("token",")"),886);$r1.value=$vars.sni.value;return this._endStructure($r1);},function(){var $r1=this._startStructure(890);this._appendStructure($r1,this._apply("empty"),892);$r1.value="OMeta";return this._endStructure($r1);}),877);this._appendStructure($r0,this._applyWithArgs("token","{"),896);$vars.rs=this._appendStructure($r0,this._applyWithArgs("enum","rule",","),899);this._appendStructure($r0,this._applyWithArgs("token","}"),903);$r0.value=["OMetaGrammar",$vars.sn.value,$vars.rs.value];return this._endStructure($r0);}});(BSOMetaParser["hexDigits"]="0123456789abcdef");let BSSemActionTranslator=objectThatDelegatesTo(BSJSTranslator,{
"Location":function(){var $elf=this,$vars={},$r0=this._startStructure(908, true);$r0.value=["this._extractLocation($r",this["_storeVal"],")"].join("");return this._endStructure($r0);},
"get":function(){var $elf=this,$vars={},$r0=this._startStructure(910, true);$vars.n=this.anything();$r0.value=this._renameVariable($vars.n.value);return this._endStructure($r0);},
"name":function(){var $elf=this,$vars={},$r0=this._startStructure(915, true);$vars.n=this.anything();$r0.value=this._renameVariable($vars.n.value);return this._endStructure($r0);},
"jstrans":function(){var $elf=this,$vars={},$r0=this._startStructure(920, true);$vars.storeVal=this.anything();$vars.toRename=this.anything();$r0.value=(function (){(this["_storeVal"]=$vars.storeVal.value);return (this["_toRename"]=$vars.toRename.value);}).call(this);this._appendStructure($r0,this._apply("trans"),926);return this._endStructure($r0);}});(BSSemActionTranslator["_renameVariable"]=(function (name){if(((name != "$elf") && this["_toRename"][name])){return (("$vars." + name) + ".value");}else{undefined;}return name;}));let BSOMetaTranslator=objectThatDelegatesTo(OMeta,{
"App":function(){var $elf=this,$vars={},$r0=this._startStructure(929, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(932);this._appendStructure($r1,this.exactly("super"),934);$vars.args=this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("transFn"),939);}),937);$r1.value=[this["sName"],"._superApplyWithArgs(this,",$vars.args.value.join(","),")"].join("");return this._endStructure($r1);},function(){var $r1=this._startStructure(943);$vars.rule=this.anything();$vars.args=this._appendStructure($r1,this._many(function(){return this._forwardStructure(this._apply("transFn"),949);}),947);this._appendStructure($r1,this._or(function(){var $r2=this._startStructure(953);$r2.value=this._pred(this._optimizedCall($vars.rule.value,$vars.args.value));$r2.value=["this.",this["_callables"][$vars.rule.value]["name"],"(",$vars.args.value.join(","),")"].join("");return this._endStructure($r2);},function(){var $r2=this._startStructure(960);$r2.value=this._pred(($vars.args.value["length"] < (1)));$r2.value=["this._apply(\"",$vars.rule.value,"\")"].join("");return this._endStructure($r2);},function(){var $r2=this._startStructure(952);$r2.value=["this._applyWithArgs(\"",$vars.rule.value,"\",",$vars.args.value.join(","),")"].join("");return this._endStructure($r2);}),951);return this._endStructure($r1);}),930);return this._endStructure($r0);},
"Pred":function(){var $elf=this,$vars={},$r0=this._startStructure(968, true);$vars.expr=this._appendStructure($r0,this._apply("transFn"),971);$r0.value=["this._pred(",$vars.expr.value,")"].join("");return this._endStructure($r0);},
"Or":function(){var $elf=this,$vars={},$r0=this._startStructure(975, true);$vars.xs=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("transFn"),980);}),978);$r0.value=["this._or(",$vars.xs.value.join(","),")"].join("");return this._endStructure($r0);},
"XOr":function(){var $elf=this,$vars={},$r0=this._startStructure(984, true);$vars.xs=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("transFn"),989);}),987);$r0.value=$vars.xs.value.unshift(this["rName"].toProgramString());$r0.value=["this._xor(",$vars.xs.value.join(","),")"].join("");return this._endStructure($r0);},
"And":function(){var $elf=this,$vars={},$r0=this._startStructure(995, true);this._appendStructure($r0,this._or(function(){var $r1=this._startStructure(998);$vars.xs=this._appendStructure($r1,this._many1(function(){return this._forwardStructure(this._apply("transFn"),1003);}),1001);$r1.value=$vars.xs.value.join(";");return this._endStructure($r1);},function(){var $r1=this._startStructure(997);$r1.value="undefined";return this._endStructure($r1);}),996);return this._endStructure($r0);},
"Opt":function(){var $elf=this,$vars={},$r0=this._startStructure(1008, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1011);$r0.value=["this._opt(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"Many":function(){var $elf=this,$vars={},$r0=this._startStructure(1015, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1018);$r0.value=["this._many(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"Many1":function(){var $elf=this,$vars={},$r0=this._startStructure(1022, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1025);$r0.value=["this._many1(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"Set":function(){var $elf=this,$vars={},$r0=this._startStructure(1029, true);$vars.n=this.anything();$vars.v=this._appendStructure($r0,this._apply("transFn"),1033);$r0.value=["$vars.",$vars.n.value,"=",$vars.v.value].join("");return this._endStructure($r0);},
"Not":function(){var $elf=this,$vars={},$r0=this._startStructure(1037, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1040);$r0.value=["this._not(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"Lookahead":function(){var $elf=this,$vars={},$r0=this._startStructure(1044, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1047);$r0.value=["this._lookahead(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"Form":function(){var $elf=this,$vars={},$r0=this._startStructure(1051, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1054);$r0.value=["this._form(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"ConsBy":function(){var $elf=this,$vars={},$r0=this._startStructure(1058, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1061);$r0.value=["this._consumedBy(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"IdxConsBy":function(){var $elf=this,$vars={},$r0=this._startStructure(1065, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1068);$r0.value=["this._idxConsumedBy(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"JumpTable":function(){var $elf=this,$vars={},$r0=this._startStructure(1072, true);$r0.value=this["_storeVar"]++;$vars.cases=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("jtCase"),1079);}),1077);$r0.value=this["_storeVar"]--;$r0.value=this.jumpTableCode($vars.cases.value);return this._endStructure($r0);},
"Interleave":function(){var $elf=this,$vars={},$r0=this._startStructure(1085, true);$vars.xs=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("intPart"),1090);}),1088);$r0.value=["this._interleave(",$vars.xs.value.join(","),")"].join("");return this._endStructure($r0);},
"Function":function(){var $elf=this,$vars={},$r0=this._startStructure(1094, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1097);$r0.value=["function(){",$vars.x.value,";}"].join("");return this._endStructure($r0);},
"FunctionStructure":function(){var $elf=this,$vars={},$r0=this._startStructure(1101, true);$r0.value=this["_storeVar"]++;$vars.xs=this._appendStructure($r0,this._many1(function(){return this._forwardStructure(this._apply("transFn"),1108);}),1106);$r0.value=this["_storeVar"]--;$r0.value=["function(){var $r",(this["_storeVar"] + (1)),"=this._startStructure(",this.getLocationId(),");",$vars.xs.value.join(";"),";return this._endStructure($r",(this["_storeVar"] + (1)),");}"].join("");return this._endStructure($r0);},
"SetReturn":function(){var $elf=this,$vars={},$r0=this._startStructure(1114, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1117);$r0.value=["$r",this["_storeVar"],".value=",$vars.x.value].join("");return this._endStructure($r0);},
"Return":function(){var $elf=this,$vars={},$r0=this._startStructure(1121, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1124);$r0.value=["return this._forwardStructure(",$vars.x.value,",",this.getLocationId(),")"].join("");return this._endStructure($r0);},
"Parenthesis":function(){var $elf=this,$vars={},$r0=this._startStructure(1128, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1131);$r0.value=["(",$vars.x.value,")"].join("");return this._endStructure($r0);},
"Store":function(){var $elf=this,$vars={},$r0=this._startStructure(1135, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1138);$r0.value=["this._appendStructure($r",this["_storeVar"],",",$vars.x.value,",",this.getLocationId(),")"].join("");return this._endStructure($r0);},
"Wrap":function(){var $elf=this,$vars={},$r0=this._startStructure(1142, true);$vars.x=this._appendStructure($r0,this._apply("transFn"),1145);$r0.value=["this._generateStructure($r",this["_storeVar"],",",$vars.x.value,",",this.getLocationId(),")"].join("");return this._endStructure($r0);},
"Js":function(){var $elf=this,$vars={},$r0=this._startStructure(1149, true);$vars.locals=this.anything();this._appendStructure($r0,this._applyWithArgs("transJs",$vars.locals.value),1152);return this._endStructure($r0);},
"PopArg":function(){var $elf=this,$vars={},$r0=this._startStructure(1155, true);$vars.n=this.anything();$r0.value=["$vars.",$vars.n.value,"=this.anything()"].join("");return this._endStructure($r0);},
"Rule":function(){var $elf=this,$vars={},$r0=this._startStructure(1160, true);$vars.name=this.anything();$r0.value=(function (){(this["rName"]=$vars.name.value);return (this["_storeVar"]=(0));}).call(this);$vars.body=this._appendStructure($r0,this._apply("trans"),1166);$r0.value=["\n\"",$vars.name.value,"\":function(){var $elf=this,","$vars={},","$r0=this._startStructure(",this.getLocationId(),", true);",$vars.body.value,";return this._endStructure($r0);}"].join("");return this._endStructure($r0);},
"Grammar":function(){var $elf=this,$vars={},$r0=this._startStructure(1170, true);$vars.sName=this.anything();$r0.value=(this["sName"]=$vars.sName.value);$vars.rules=this._appendStructure($r0,this._many(function(){return this._forwardStructure(this._apply("trans"),1178);}),1176);$r0.value=["objectThatDelegatesTo(",$vars.sName.value,",{",$vars.rules.value.join(","),"})"].join("");return this._endStructure($r0);},
"intPart":function(){var $elf=this,$vars={},$r0=this._startStructure(1182, true);this._appendStructure($r0,this._form(function(){var $r1=this._startStructure(1186);$vars.mode=this.anything();$vars.part=this._appendStructure($r1,this._apply("transFn"),1190);return this._endStructure($r1);}),1184);$r0.value=(($vars.mode.value.toProgramString() + ",") + $vars.part.value);return this._endStructure($r0);},
"jtCase":function(){var $elf=this,$vars={},$r0=this._startStructure(1194, true);this._appendStructure($r0,this._form(function(){var $r1=this._startStructure(1198);$vars.x=this.anything();$vars.e=this._appendStructure($r1,this._apply("trans"),1202);return this._endStructure($r1);}),1196);$r0.value=[$vars.x.value.toProgramString(),$vars.e.value];return this._endStructure($r0);},
"transJs":function(){var $elf=this,$vars={},$r0=this._startStructure(1206, true);$vars.locals=this.anything();this._appendStructure($r0,this._applyWithArgs("foreign",BSSemActionTranslator,"jstrans",this["_storeVar"],$vars.locals.value),1209);return this._endStructure($r0);},
"trans":function(){var $elf=this,$vars={},$r0=this._startStructure(1214, true);this._appendStructure($r0,this._form(function(){var $r1=this._startStructure(1218);$vars.loc=this.anything();$vars.t=this.anything();$r1.value=this.pushLocation($vars.loc.value);$vars.ans=this._appendStructure($r1,this._apply($vars.t.value),1225);$r1.value=this.popLocation();return this._endStructure($r1);}),1216);$r0.value=$vars.ans.value;return this._endStructure($r0);},
"transFn":function(){var $elf=this,$vars={},$r0=this._startStructure(1232, true);$vars.x=this._appendStructure($r0,this._apply("trans"),1235);$r0.value=$vars.x.value;return this._endStructure($r0);}});(BSOMetaTranslator["_callables"]=({"anything": ({"name": "anything","nbArgs": (0)}),"apply": ({"name": "_apply","nbArgs": (1)}),"end": ({"name": "end","nbArgs": (0)}),"exactly": ({"name": "exactly","nbArgs": (1)}),"seq": ({"name": "seq","nbArgs": (1)})}));(BSOMetaTranslator["_optimizedCall"]=(function (rule,args){let c=this["_callables"][rule];return (c && (c["nbArgs"] == args["length"]));}));(BSOMetaTranslator["jumpTableCode"]=(function (cases){var buf=new StringBuffer();buf.nextPutAll((("(function(){var $r" + (this["_storeVar"] + (1))) + "=this._startStructure(-1);"));buf.nextPutAll((("switch(this._appendStructure($r" + (this["_storeVar"] + (1))) + ",this._apply(\'anything\'))){"));for(var i=(0);(i < cases["length"]);(i+=(1))){buf.nextPutAll((((("case " + cases[i][(0)]) + ":") + cases[i][(1)]) + ";break;"));}buf.nextPutAll((("default: throw fail}return this._endStructure($r" + (this["_storeVar"] + (1))) + ");}).call(this)"));return buf.contents();}));(BSOMetaTranslator["pushLocation"]=(function (location){if((location != null)){let locationId=createSourceMapId();addToSourseMap(locationId,location["start"],location["stop"]);this["_locations"].push(locationId);}else{this["_locations"].push(this["_locations"][(this["_locations"]["length"] - (1))]);};}));(BSOMetaTranslator["popLocation"]=(function (){this["_locations"].pop();}));(BSOMetaTranslator["getLocationId"]=(function (){return this["_locations"][(this["_locations"]["length"] - (1))];}));(BSOMetaTranslator["initialize"]=(function (){(this["_locations"]=[]);}))

